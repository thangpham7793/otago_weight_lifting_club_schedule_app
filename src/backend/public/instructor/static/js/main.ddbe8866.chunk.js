(this.webpackJsonpinstructor=this.webpackJsonpinstructor||[]).push([[0],{116:function(e,t,a){e.exports=a(138)},121:function(e,t,a){},122:function(e,t,a){},133:function(e,t){},134:function(e,t){},137:function(e,t,a){e.exports=a.p+"static/media/logo.226e3c4c.jpg"},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=(a(121),a(122),a(6)),s=a(24),i=a(21);function u(e){var t=e.links,a=e.onLogOut,c=e.onAppChange,l=e.pageTitle,s=Object(n.useState)(window.innerWidth),i=Object(o.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(0),p=Object(o.a)(d,2),f=p[0],b=p[1],h=Object(n.useRef)();return Object(n.useEffect)((function(){function e(){m(window.innerWidth)}return b(h.current.scrollHeight),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[u]),r.a.createElement("nav",{className:"header index",ref:h,style:{zIndex:1e3}},r.a.createElement("section",null,u<=450&&t.length>2&&f>0?r.a.createElement(pe,{pageTitle:l,links:t,onAppChange:c,onLogOut:a,navBarHeight:f}):r.a.createElement(fe,{pageTitle:l,links:t,onAppChange:c,onLogOut:a})))}function m(){return r.a.createElement("footer",{className:"footer index",style:{zIndex:2}},r.a.createElement("div",{className:"footer-text-wrapper"},"Otago Weightlifting 2020. All Rights Reserved"))}var d=a(25),p=a(28),f=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"isAuthenticated",value:function(){return null!==sessionStorage.getItem("token")}},{key:"saveToken",value:function(e){sessionStorage.setItem("token",e)}},{key:"getToken",value:function(){return sessionStorage.getItem("token")}},{key:"clearToken",value:function(){sessionStorage.removeItem("token")}}]),e}();var b=a(3),h=a.n(b),g=a(7);function v(e){return e.split("").reduce((function(e,t,a){return 0===a?t.toUpperCase():t===t.toUpperCase()?e+" "+t:e+t}),"")}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(g.a)(h.a.mark((function a(){var n,r=arguments;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.apply(void 0,r);case 3:return a.abrupt("return",a.sent);case 6:if(a.prev=6,a.t0=a.catch(0),null!==(n=null===t||void 0===t?void 0:t(a.t0))&&void 0!==n||console.log("Something went wrong: ".concat(a.t0)),-1===a.t0.toString().search(/AbortError/)){a.next=13;break}return a.abrupt("return",{ok:!1,payload:{message:"Server timeouts!"}});case 13:if(-1===a.t0.toString().search(/NetworkError/)){a.next=17;break}return a.abrupt("return",{ok:!1,payload:{message:"Can't connect to Server!"}});case 17:return a.abrupt("return",{ok:!1,payload:null});case 18:case"end":return a.stop()}}),a,null,[[0,6]])})))}function E(e,t){return Object.entries(e).every((function(e){var a=Object(o.a)(e,2),n=a[0],r=a[1];return t.hasOwnProperty(n)&&r===t[n]}))}var k={show:function(e){document.querySelector("#spinner").style.display=!0===e?"block":"none"}};function w(e){return Object(g.a)(h.a.mark((function t(){var a,n=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.show(!0),t.next=3,y(e).apply(void 0,n);case 3:return a=t.sent,k.show(!1),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))}function x(e){return e.trim().split(" ").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})).join("")}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Array(e).fill().map((function(e,a){return a+t}))}function O(e){return Array(e).fill().map((function(e,t){return"x".concat(t+1)}))}var j=function(){function e(){if(Object(d.a)(this,e),this.postInstructorCredentials=e._fetchPostFactory("instructor/login"),this._instance=this,e._instance)return this._instance}return Object(p.a)(e,null,[{key:"_makeUrl",value:function(e){return"".concat(this.BASE_URL,"/").concat(e)}},{key:"_fetchPostFactory",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e._makeUrl(t);return y(function(){var t=Object(g.a)(h.a.mark((function t(r){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},f.isAuthenticated()&&(c.headers.Authorization="Bearer ".concat(f.getToken())),e._setFetchTimeout(a,c),t.t0=e,t.next=6,fetch(n,c);case 6:return t.t1=t.sent,t.abrupt("return",t.t0._makePayload.call(t.t0,t.t1));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"_fetchPutFactory",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e._makeUrl(t);return y(Object(g.a)(h.a.mark((function t(){var r,c,l=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:null,c={method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f.getToken())}},r&&(c.body=JSON.stringify(r)),e._setFetchTimeout(a,c),t.t0=e,t.next=7,fetch(n,c);case 7:return t.t1=t.sent,t.abrupt("return",t.t0._makePayload.call(t.t0,t.t1));case 9:case"end":return t.stop()}}),t)}))))}},{key:"_fetchJsonFactory",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e._makeUrl(t);return y(Object(g.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{Authorization:"Bearer ".concat(f.getToken())}},e._setFetchTimeout(a,r),t.t0=e,t.next=5,fetch(n,r);case 5:return t.t1=t.sent,t.abrupt("return",t.t0._makePayload.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))))}},{key:"_fetchDeleteFactory",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e._makeUrl(t);return y(Object(g.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"DELETE",mode:"cors",headers:{Authorization:"Bearer ".concat(f.getToken())}},e._setFetchTimeout(a,r),t.t0=e,t.next=5,fetch(n,r);case 5:return t.t1=t.sent,t.abrupt("return",t.t0._makePayload.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))))}},{key:"_setFetchTimeout",value:function(e,t){var a=new AbortController;setTimeout((function(){return a.abort()}),1e3*e),t.signal=a.signal}},{key:"_makePayload",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{ok:!1,payload:null});case 2:a=t.ok,e.t0=t.status,e.next=204===e.t0?6:8;break;case 6:return console.log("No Content"),e.abrupt("return",{ok:a,payload:null});case 8:return e.abrupt("break",9);case 9:return e.next=11,t.json();case 11:return n=e.sent,console.log({ok:a,payload:n}),e.abrupt("return",{ok:a,payload:n||null});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_retryFetch",value:function(e){setInterval(Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Refetching ..."),t.abrupt("return",y(e()));case 2:case"end":return t.stop()}}),t)}))),5e3)}},{key:"getInstance",value:function(){return e._instance||new e}}]),e}();j.BASE_URL=window.location.href.split(".").includes("herokuapp")?"https://lifting-schedule-v2.herokuapp.com":"http://localhost:5000";j.getInstance();function C(e){return e&&e.trim().length>0}function N(e){return e&&/^([\w_-]+|[\w_-]+(.[\w_-]+)+?)@([\w_-]+|[\w_-]+(.[\w_-]+)+?)$/.test(e)}function P(e){return!isNaN(parseFloat(e))&&isFinite(e)}function I(e){var t=e.email,a=e.password;return C(t)&&C(a)?N(t)?null:"Invalid email":"Missing Email or Password"}function A(e){var t=e.username,a=e.password;return C(t)&&C(a)?null:"Missing Email or Password"}function L(e){return P(e)&&parseFloat(e)>=0}var B=a(50),F=a(47),T=a(61),D=a(60),_=function(e){Object(T.a)(a,e);var t=Object(D.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).instructorLogin=w(e.instructorLogin),e._instance=Object(F.a)(e),a._instance?Object(B.a)(e,e._instance):e}return Object(p.a)(a,[{key:"instructorLogin",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchPostFactory("instructor/login")(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstructorInstance",value:function(){return a._instance||new a}}]),a}(j).getInstructorInstance(),R=function(e){Object(T.a)(a,e);var t=Object(D.a)(a);function a(){var e;return Object(d.a)(this,a),e=t.call(this),console.log("New LearnerServiceSingleton!"),e.fetchLearners=w(e.fetchLearners),e.updateLearner=w(e.updateLearner),e.deleteLearner=w(e.deleteLearner),e.createLearner=w(e.createLearner),e.learnerLogin=w(e.learnerLogin),e.updateLearnerPbs=w(e.updateLearnerPbs),e.createNewPracticeBest=w(e.createNewPracticeBest),e.updatePracticeBest=w(e.updatePracticeBest),e.deletePracticeBest=w(e.deletePracticeBest),e.learnerSignup=w(e.learnerSignup),e.getPracticeBestsByExerciseName=w(e.getPracticeBestsByExerciseName),e.getAllPracticeBestsOfOneLearner=w(e.getAllPracticeBestsOfOneLearner),e._instance=Object(F.a)(e),a._instance?Object(B.a)(e,e._instance):e}return Object(p.a)(a,[{key:"fetchLearners",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching Learners"),e.next=3,a._fetchJsonFactory("learners")();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateLearner",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sending ".concat(JSON.stringify(t))),e.next=3,a._fetchPutFactory("learners/details")({learner:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteLearner",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Delete learner id ",t),e.next=3,a._fetchDeleteFactory("learners/".concat(t))();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLearner",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sending new learner ".concat(JSON.stringify(t))),e.next=3,a._fetchPostFactory("learners")({learner:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"learnerLogin",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchPostFactory("learners/login")(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"learnerSignup",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchPostFactory("learners/signup")(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLearnerPbs",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchPutFactory("learners/pbs")({newPbs:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createNewPracticeBest",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.exerciseName,r=t.repMax,c=t.weight,e.next=3,a._fetchPostFactory("learners/practice.bests")({exerciseName:n,repMax:r,weight:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPracticeBestsByExerciseName",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchJsonFactory("learners/practice.bests/".concat(encodeURI(t)))();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePracticeBest",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pbId,r=t.weight,c=t.repMax,e.next=3,a._fetchPutFactory("learners/practice.bests")({pbId:n,weight:r,repMax:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePracticeBest",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pbId,console.log("Deleting record id ".concat(n)),e.next=4,a._fetchDeleteFactory("learners/practice.bests/".concat(n))();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllPracticeBestsOfOneLearner",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchJsonFactory("learners/".concat(t,"/practice.bests"))();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getLearnerInstance",value:function(){return a._instance||new a}}]),a}(j).getLearnerInstance(),W=function(e){Object(T.a)(a,e);var t=Object(D.a)(a);function a(){var e;return Object(d.a)(this,a),e=t.call(this),console.log("I was created!"),e.fetchProgrammes=w(e.fetchProgrammes),e.fetchSchedules=w(e.fetchSchedules),e.fetchScheduleInfo=w(e.fetchScheduleInfo),e.deleteSchedule=w(e.deleteSchedule),e.publishSchedule=w(e.publishSchedule),e.unpublishSchedule=w(e.unpublishSchedule),e.repostSchedule=w(e.repostSchedule),e.postNewSchedule=w(e.postNewSchedule),e.fetchExercises=w(e.fetchExercises),e.fetchExerciseNames=w(e.fetchExerciseNames),e.getAvailableProgrammesToPublish=w(e.getAvailableProgrammesToPublish),e._instance=Object(F.a)(e),a._instance?Object(B.a)(e,e._instance):e}return Object(p.a)(a,[{key:"fetchProgrammes",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchJsonFactory("programmes")();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createProgramme",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateProgramme",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchSchedules",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchJsonFactory("programmes/schedules")();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteSchedule",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchDeleteFactory("programmes/schedules/".concat(t))();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postNewSchedule",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchPostFactory("programmes/schedules")(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"repostSchedule",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchPutFactory("programmes/schedules")(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchScheduleInfo",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchJsonFactory("programmes/schedules/info")();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAvailableProgrammesToPublish",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchJsonFactory("programmes/schedules/".concat(t,"/publish/available.programmes"))();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSchedule",value:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchPostFactory("programmes/schedules/".concat(t,"/publish"))({programmeIds:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"unpublishSchedule",value:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,a._fetchDeleteFactory("programmes/schedules/".concat(t,"/unpublish/").concat(n))();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchExercises",value:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchJsonFactory("programmes/schedules/".concat(t,"/weeks/").concat(n))();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchExerciseNames",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._fetchJsonFactory("programmes/exercises")();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],[{key:"getProgrammeInstance",value:function(){return a._instance||new a}}]),a}(j).getProgrammeInstance();function U(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){return t(e.target.result)},n.onerror=a,n.readAsArrayBuffer(e)}))}var M=a(17),z=a(62),J=a.n(z);function H(e){var t=J.a.read(e,{type:"buffer"}),a=[];return t.SheetNames.forEach((function(e){var n=J.a.utils.sheet_to_json(t.Sheets[e]);a.push.apply(a,Object(M.a)(n))})),{rows:a,weekCount:t.SheetNames.length}}function q(e){var t={};return function(e){var t=[0,0];return e.reduce((function(e,a){var n=a.week,r=a.day;return t[0]===n&&t[1]===r||(t=[n,r],e.push([n,r])),e}),[])}(e).forEach((function(a){return n=a[0],r=a[1],void e.filter((function(e){var t=e.week,a=e.day;return t===n&&a===r})).reduce((function(e,t){var a=t.exerciseName,c=t.instruction;return void 0===e["week ".concat(n)]&&(e["week ".concat(n)]={}),void 0===e["week ".concat(n)]["day ".concat(r)]&&(e["week ".concat(n)]["day ".concat(r)]=[]),e["week ".concat(n)]["day ".concat(r)].push({exerciseName:a,instruction:c}),e}),t);var n,r})),t}function V(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e){var c=H(e),l=c.rows,o=c.weekCount,s=q(l);return n?{timetable:s,weekCount:o,scheduleName:a,programmeIds:t}:{scheduleId:r,scheduleName:a,weekCount:o,timetable:s}}return{scheduleId:r,scheduleName:a}}function K(e,t){t.splice(t.findIndex((function(t){return t===e})),1)}var Y=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"setCurrentPage",value:function(e){e&&sessionStorage.setItem("currentPage",e)}},{key:"getCurrentPage",value:function(){var e=sessionStorage.getItem("currentPage");return"/instructor"===e?"/instructor/schedules":"/learner"===e?"/learner/schedules":e}},{key:"clearCurrentPage",value:function(){return sessionStorage.removeItem("currentPage")}}]),e}(),G={snatch:["Snatch","Power Snatch","Hang Snatch","High Hang Snatch","Hang Snatch Below Knee","Hang Power Snatch Below Knee","Hang Snatch Just Off the Floor","Hang Power Snatch","Block Snatch","Low Block Snatch","Block Power Snatch","Low Block Power Snatch","Muscle Snatch","Deficit Snatch","Snatch Balance","Overhead Squat","Snatch Pull","Snatch Deadlift","Block Snatch Pull","Snatch Romanian Deadlift","Snatch Push Press","3 Position Snatch","3 position snatch (High Hang, Below Knee, Floor)","2 Position Snatch","Pause Snatch","Snatch Pull + Snatch","Snatch + Overhead Squat","Snatch Push Press + Overhead Squat","Deficit Snatch Pull","Snatch Panda Pull"],clean:["Clean","Power Clean","Hang Clean","High Hang Clean","Hang Snatch Below Knee","Hang Clean Just Off the Floor","Hang Power Clean","Hang Power Clean Below Knee","Block Clean","Low Block Clean","Block Power Clean","Low Block Power Clean","Muscle Clean","Deficit Clean","Clean Pull","Clean Deadlift","Block Clean Pull","Clean Romanian Deadlift","3 Position Clean","2 Position Snatch","Pause Clean","Clean Pull + Clean","Clean + Front Squat","Deficit Clean Pull","Power Clean + Push Press"],jerk:["Jerk","Split Jerk","Power Jerk","Front Squat + Jerk","Power Jerk + Split Jerk"],cleanAndJerk:["Clean + Jerk","Clean + Front Squat + Jerk","Power Clean + Split Jerk","Power Clean + Power Jerk","Clean and Jerk"],backSquat:["Back Squat","Pause Back Squat","Good Morning","Barbell Back Squat Jumps"],frontSquat:["Front Squat","Pause Front Squat"],pushPress:["Push Press"],RPEorRIR:["Pushups","Pullups","Back Extension","Situps","Cable Row","Bench Press","Box Jumps","Bent Over Barbell Row","Pendlay Row","Barbell Bicep Curl","Dips","Barbell Strict Press","Lu Xiaojun Raise","Bent Over Plate Rear Delt Flye","Abs (your choice)","Hanging Knee/Leg Raise","Calf Raise","1-Arm Dumbbell Row","Bulgarian Split Squat","Seated Barbell Press","Seated Dumbbell Press"]};function Z(e,t){return e.split(" ").map((function(e){return e.indexOf("%")>-1?function(e,t){var a=e.split("-").filter((function(e){return""!==e})).map((function(e){return(Math.abs(parseInt(e))*t/100).toFixed()+"kg"})).join("-");return"".concat(a," (").concat(e,")")}(e,t):e})).join(" ")}function Q(e,t){var a=e.exerciseName,n=e.instruction,r=function(e,t){return t[Object.keys(G).filter((function(t){return G[t].map((function(e){return e.toLowerCase()})).includes(e.toLowerCase().replace("optional: ",""))}))[0]]}(a,t);return r?Z(n,r):n}var X=a(180);function ee(e){return Object(X.a)((function(){return e}))()}function te(e){var t=e.links.map((function(e){var t=e.to,a=e.component;return r.a.createElement(i.b,{key:t,exact:!0,path:t,component:a})}));return r.a.createElement(i.d,null,t,r.a.createElement(i.a,{to:Y.getCurrentPage()?Y.getCurrentPage():"/learner/login"}))}var ae=a(189),ne=a(183),re=a(139),ce=a(185),le=a(186),oe=a(140),se=a(237),ie=a(188),ue=a(187);function me(e){var t=e.links,a=e.onLogOut,c=e.navBarHeight,l=ee({btn:{padding:"0 0.25rem",color:"var(--txt-cl)",boxShadow:"none",borderRadius:"0",flex:"0",border:"none"},drawer:{width:"max-content"},drawerPaper:{background:"var(--secondary-cl)",width:"70vw"},navList:{paddingTop:0,marginTop:c?"".concat(parseInt(c)+20,"px"):"3.5rem"},navItem:{"& :hover":{color:"var(--txt-cl)",fontWeight:"600"},"& :focus":{color:"var(--txt-cl)",fontWeight:"600"}},navItemText:{fontSize:"0.75rem",fontWeight:"inherit"}}),i=Object(n.useState)(!1),u=Object(o.a)(i,2),m=u[0],d=u[1];function p(e){d(e)}var f=t.filter((function(e){return!0===e.display})).map((function(e){var t=e.to,n=e.label,c=e.icon;return"/logout"!==t?r.a.createElement(r.a.Fragment,{key:t}," ",r.a.createElement(ne.a,null),r.a.createElement(re.a,{button:!0,component:s.b,to:t,onClick:function(){return p(!1)},className:l.navItem,classes:{root:l.navItem},activeStyle:{fontWeight:"600",color:"var(--txt-cl)",pointerEvents:"none",cursor:"default"}},r.a.createElement(ce.a,null,r.a.createElement(c,null)),r.a.createElement(le.a,{primary:n,classes:{primary:l.navItemText}}))):r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(ne.a,null),r.a.createElement(re.a,{button:!0,className:l.navItem,id:"sidebar-logout-link"},r.a.createElement(ce.a,null,r.a.createElement(c,null)),r.a.createElement(le.a,{primary:n,onClick:a,classes:{primary:l.navItemText}})),r.a.createElement(ne.a,null))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{className:l.btn,onClick:function(){return p(!m)}},r.a.createElement(ue.a,null)),r.a.createElement(se.a,{className:l.drawer,anchor:"left",open:m,onClose:function(){return p(!1)},classes:{paper:l.drawerPaper},id:"sidebar-drawer"},r.a.createElement(ie.a,{className:l.navList},f)))}var de=Object(X.a)((function(){return{wrapper:{padding:"0 0.25rem"},title:{fontWeight:"var(--fw-lg)",fontSize:"calc(0.35 * var(--fs-md))"}}}));function pe(e){var t=e.pageTitle,a=e.links,n=e.onLogOut,c=de();return r.a.createElement("header",null,r.a.createElement(ae.a,{container:!0,className:c.wrapper},r.a.createElement(ae.a,{item:!0,className:"navLinks",xs:1},r.a.createElement(me,{links:a,onLogOut:n})),r.a.createElement(ae.a,{item:!0,xs:11},r.a.createElement("h1",{className:c.title},t))))}function fe(e){var t,a=e.pageTitle,n=e.links,c=e.onAppChange,l=e.onLogOut;return t=2===n.length?[r.a.createElement("span",{className:"nav-item",key:n[0].to,onClick:c,to:n[0].to},n[0].label),r.a.createElement("a",{className:"nav-item",href:n[1].to,key:n[1].to},n[1].label)]:n.filter((function(e){return!0===e.display})).map((function(e){var t=e.to,a=e.label;return"/logout"!==t?r.a.createElement(s.b,{key:t,to:t,className:"nav-item",activeClassName:"current-page",activeStyle:{fontWeight:"600",pointerEvents:"none",cursor:"default"}},a):r.a.createElement("span",{className:"nav-item",key:t,label:a,onClick:l},a)})),r.a.createElement("div",{className:"navContent"},r.a.createElement("header",null,r.a.createElement("h1",{style:{fontWeight:"var(--fw-lg)",fontSize:"calc(0.35 * var(--fs-md))"}},a),r.a.createElement("div",{className:"navLinks"},t)))}var be=a(220),he=a(216),ge=a(221),ve=a(12),ye=a(190),Ee=a(191),ke=r.a.memo((function(e){var t=e.actionStatus,a=e.onCloseActionStatusDiv,n=t.action,c=t.isActionSuccess,l=t.errorMessage,o="Action Status",s="",i="",u="";if(n)switch(c){default:o="Applying ".concat(n.toUpperCase()," ..."),i="yellow",s="#111";break;case!0:o="".concat(n.toUpperCase()," Successful!"),s="green",i="rgb(107, 236, 172)";break;case!1:o=l,s="red",i="rgb(241, 162, 142)"}else u="hidden";return r.a.createElement("div",{className:"action-status-div",style:{visibility:u,color:s,fontWeight:"600",background:i,position:"fixed",width:"max-content",borderRadius:"1rem",left:"5%",bottom:"7%",zIndex:"1301"}},c?r.a.createElement(ye.a,null):r.a.createElement(Ee.a,null),r.a.createElement("span",null,o),r.a.createElement("span",{className:"action-status-close",onClick:a},"X"))}));function we(e,t){var a=Object(n.useState)({action:null,isActionSuccess:!0,errorMessage:null}),c=Object(o.a)(a,2),l=c[0],s=c[1];function i(){return u.apply(this,arguments)}function u(){return(u=Object(g.a)(h.a.mark((function a(){var n,r=arguments;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s({action:e,isActionSuccess:null}),a.next=3,t.apply(void 0,r);case 3:return(n=a.sent).ok?(s({action:e,isActionSuccess:!0}),console.log("".concat(x(e)," Successful!"))):(n.payload.message?s({action:e,isActionSuccess:!1,errorMessage:n.payload.message}):s({action:e,isActionSuccess:!1,errorMessage:"".concat(x(e)," failed!")}),console.log("".concat(x(e)," failed!"))),a.abrupt("return",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function m(){s({action:null,isActionSuccess:null})}function d(){return r.a.createElement(ke,{actionStatus:l,onCloseActionStatusDiv:m})}return Object(n.useEffect)((function(){if(null!==l.isActionSuccess){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return setTimeout((function(){return m()}),1e3*e)}();return function(){clearTimeout(e)}}}),[l.isActionSuccess]),function(e){var t={};return t["".concat(e,"ActionStatus")]=l,t["set".concat(x(e),"ActionStatus")]=s,t["callDecorated".concat(x(e),"Service")]=i,t["onClose".concat(x(e),"StatusDiv")]=m,t["".concat(x(e),"Snackbar")]=d,t}(e)}var xe=a(18);function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Object(n.useState)(null),c=Object(o.a)(a,2),l=c[0],s=c[1],i=r.a.memo((function(a){var n=a.isFetchSuccess,c=Object(xe.a)(a,["isFetchSuccess"]);switch(n){default:return r.a.createElement("div",Object.assign({},c,{style:{color:"var(--bg-cl)"}}),"Fetching ",e||"data"," ...");case!0:return r.a.createElement("div",Object.assign({},c,{style:{color:"green"}}),t||"Finished Fetching Data!");case!1:return r.a.createElement("div",Object.assign({},c,{style:{color:"red"}}),"Failed to Fetch ",e||"data",". Please retry later.")}}));function u(e){var t=Object.assign({},e);return r.a.createElement(ae.a,{item:!0,container:!0,direction:"column",style:{height:"100%",paddingTop:"2rem"}},r.a.createElement(i,Object.assign({isFetchSuccess:l},t)))}return{isFetchSuccess:l,setIsFetchSuccess:s,FetchNotificationDiv:u}}var Oe=a(19),je=a(31),Ce=Object(je.c)({name:"allLearners",initialState:{learners:null},reducers:{initAllLearners:function(e,t){e.learners=t.payload}}}),Ne=function(e){return e.allLearners.learners},Pe=Ce.actions.initAllLearners,Ie=Ce.reducer,Ae=a(44),Le=["snatch","clean and jerk","clean","split jerk","comp snatch","comp clean and jerk","comp total","power snatch","power clean","power jerk","push press","back squat","front squat","overhead squat","hang snatch","hang clean","block snatch","block clean","muscle snatch","strict press","snatch balance","snatch pull","clean pull","snatch deadlift","clean deadlift","pushups","pull-ups","dips"];function Be(e,t){return new Date(e.lastEdited).valueOf()<new Date(t.lastEdited).valueOf()}function Fe(e,t){return parseInt(e.repMax.substr(1))>parseInt(t.repMax.substr(1))}function Te(e){return t=e.sort(Fe),O(10).reduce((function(e,a){var n=t.filter((function(e){return e.repMax===a})).sort(Be);return 0===n.length?e:[].concat(Object(M.a)(e),Object(M.a)(n))}),[]);var t}Date.prototype.addHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this};var De=Le.reduce((function(e,t){return e[t]=null,e}),{});De=Object(ve.a)(Object(ve.a)({},De),{},{currentRepMax:"All",instructorApp:{}});var _e=Object(je.b)("practiceBests/fetchAll",function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("I was called!"),e.next=3,R.getAllPracticeBestsOfOneLearner(t);case 3:if(a=e.sent,n=a.ok,r=a.payload,!n){e.next=8;break}return e.abrupt("return",{payload:r,learnerId:t});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Re=Object(je.c)({name:"practiceBests",initialState:De,reducers:{setOnePracticeBest:function(e,t){var a=t.payload,n=a.exerciseName,r=a.records;e["".concat(n)]=r},addNewRecord:function(e,t){var a=t.payload,n=a.exerciseName,r=a.repMax;e["".concat(n)].push(t.payload),e.currentRepMax=r},updateOneRecord:function(e,t){var a=t.payload,n=a.exerciseName,r=a.pbId,c=e["".concat(n)],l=c.findIndex((function(e){return e.pbId===r}));c[l]=t.payload,c[l].lastEdited=(new Date).addHours(13).toISOString().substr(0,10)},deleteOneRecord:function(e,t){var a=t.payload,n=a.exerciseName,r=a.pbId,c=e["".concat(n)],l=c.findIndex((function(e){return e.pbId===r}));c.splice(l,1)},setCurrentRepMax:function(e,t){e.currentRepMax=t.payload},initLearnerPbs:function(e,t){var a=t.payload,n=a.learnerId,r=a.historicalPbs;e.instructorApp["".concat(n)]=r}},extraReducers:Object(Ae.a)({},_e.fulfilled,(function(e,t){var a=t.payload,n=a.payload,r=a.learnerId;e.instructorApp["".concat(r)]=n}))}),We=function(e){return e.practiceBests.currentRepMax},Ue=Re.actions,Me=Ue.setOnePracticeBest,ze=Ue.updateOneRecord,Je=Ue.deleteOneRecord,He=Ue.addNewRecord,qe=Ue.setCurrentRepMax,Ve=(Ue.initLearnerPbs,Re.reducer),Ke=a(194),Ye=a(192),Ge=a(193);function Ze(e){var t,a=e.records,n=e.onEditClicked,c=e.currentRepMax,l=void 0===c?"All":c,o=e.icon,s=void 0===o?Ye.a:o,i=ee({list:{overflow:"auto",maxHeight:"65vh"},listItemTextPrimary:{fontSize:"0.85rem",color:"#333",textAlign:"center",fontWeight:"600"},iconBtn:{justifyContent:"center",marginLeft:"0.25rem",padding:"0.5rem",color:"var(--txt-cl)",boxShadow:"none",borderRadius:"50%",flex:"0",border:"none","& :hover":{color:"#111"}},icon:{justifyContent:"center"}}),u=s;return t=0===a.length?r.a.createElement(re.a,{divider:!0,className:"practice-best-list-item"},r.a.createElement(ce.a,{className:i.icon},r.a.createElement(Ge.a,null)),r.a.createElement(le.a,{primary:"No Available Records Found!",classes:{primary:i.listItemTextPrimary}})):a.map((function(e){var t=e.pbId,a=e.repMax,c=e.weight,o=e.lastEdited;return r.a.createElement(re.a,{button:!0,divider:!0,key:t,className:"practice-best-list-item"},"All"===l&&r.a.createElement(le.a,{classes:{primary:i.listItemTextPrimary},primary:a}),r.a.createElement(le.a,{classes:{primary:i.listItemTextPrimary},primary:"".concat(c," Kg")}),r.a.createElement(le.a,{classes:{primary:i.listItemTextPrimary},primary:o}),r.a.createElement(oe.a,{classes:{root:i.iconBtn},className:"practice-best-btn-icon",pbid:t,onClick:n},r.a.createElement(u,{fontSize:"small"})))})),r.a.createElement(ie.a,{className:i.list},t)}function $e(e){var t=e.learners,a=e.onLearnerItemClicked,n=t.map((function(e){var t=e.learnerId,n=e.firstName,c=e.lastName;return r.a.createElement(re.a,{button:!0,key:t,learnerid:t,onClick:a},r.a.createElement(le.a,{primary:"".concat(n," ").concat(c)}))}));return r.a.createElement(ie.a,null,0===t.length?r.a.createElement(re.a,{button:!0},"No Learner Found!"):n)}var Qe=a(198),Xe=a(199),et=a(195),tt=a(196),at=a(40),nt=a(197);function rt(e){var t=e.label,a=Object(xe.a)(e,["label"]);return r.a.createElement(et.a,Object.assign({label:v(t),className:"text-input"},a))}function ct(e){var t=e.selectedLearner,a=void 0===t?{}:t,n=e.onPersonalBestsInputChange,c=e.onUpdatePersonalBests,l=e.enableEditAndUpdate,o=e.canEditAndUpdate,s=e.onDeleteLearner,i=e.title,u=ee({btn:{fontSize:"0.75rem",width:"max-content"},btnLabel:{fontSize:"0.5rem"},input:{fontWeight:"var(--fw-md)",marginBottom:"0.5rem",minWidth:"max-content",fontSize:"0.75rem"},title:{textTransform:"capitalize",textAlign:"center",fontSize:"1rem",marginBottom:"0.5rem"}}),m=Object.keys(a).map((function(e){return"learnerId"===e?null:r.a.createElement(rt,{label:e,name:e,type:"text",key:e,value:a[e],onChange:n,readOnly:!o,disabled:!o,className:u.input,InputProps:{endAdornment:!["username","email","firstName","lastName"].includes(e)&&r.a.createElement(tt.a,{position:"end"},"Kg")}})}));return r.a.createElement(ae.a,{item:!0,style:{width:"35%",overflow:"auto",maxHeight:"80vh"}},r.a.createElement(at.a,{variant:"h6",className:u.title},i,r.a.createElement(at.a,null)),r.a.createElement("form",{readOnly:!o,onDoubleClick:l},r.a.createElement(ae.a,{container:!0,wrap:"nowrap",direction:"column",justify:"center"},m)),r.a.createElement("div",{className:"pbs-form-btn-wrapper"},r.a.createElement(nt.a,{onClick:l,className:u.btn,classes:{label:u.btnLabel}},r.a.createElement(Ye.a,{className:"pbs-btn-icon"}),o?"Disable Edit ":"Enable Edit "),r.a.createElement(nt.a,{onClick:c,disabled:!o,className:u.btn,classes:{label:u.btnLabel}},r.a.createElement(Qe.a,{className:"pbs-btn-icon"}),"Save "),r.a.createElement(nt.a,{onClick:s,disabled:!o,className:u.btn,classes:{label:u.btnLabel}},r.a.createElement(Xe.a,{className:"pbs-btn-icon"}),"Delete ")))}function lt(e){var t=e.searchPhrase,a=e.onSearchPhraseChanged,n=e.learners,c=e.displayedLearners,l=e.onLearnerItemClicked;return r.a.createElement(ae.a,{item:!0,container:!0,wrap:"nowrap",className:"learnerListPanel",direction:"column",style:{width:"20%",maxHeight:"80vh"}},r.a.createElement(ae.a,{item:!0,style:{display:"flex",flexDirection:"column",marginBottom:"0.5rem"}},r.a.createElement(et.a,{className:"learnerSearchInput",value:t,onChange:a,placeholder:0===n.length?"No Learners Added Yet":"Type to Filter",disabled:0===n.length})),r.a.createElement(ae.a,{item:!0,className:"learnerNameList"},0===n.length?r.a.createElement(ie.a,null,r.a.createElement(re.a,{button:!0},r.a.createElement(le.a,{primary:"No Learners Added Yet"}))):r.a.createElement($e,{learners:c,onLearnerItemClicked:l})))}var ot=Object(je.c)({name:"learnerschedules",initialState:{schedules:[{scheduleId:12,scheduleName:"October 2020 Peaking Cycle",weekCount:6,programmeName:"Youth and Junior"},{scheduleId:6,scheduleName:"September 2020 Strength",weekCount:5,programmeName:"Youth and Junior"}]},reducers:{initSchedules:function(e,t){e.schedules=Object(M.a)(t.payload)}}}),st=function(e){return e.learnerSchedules.schedules},it=ot.actions.initSchedules,ut=ot.reducer;var mt=a(200),dt=a(144),pt=a(145),ft=a(149),bt=Object(X.a)((function(e){return{formControl:{margin:e.spacing(1),maxWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)},label:{fontWeight:"var(--fw-md)"}}}));function ht(e){var t=e.schedules,a=e.onScheduleChecked,n=e.label,c=e.selectedSchedule,l=bt();if(!t)return r.a.createElement(at.a,{component:"p"},"No Cycle Available");var o=t.map((function(e){var t=e.scheduleName,a=e.scheduleId;return r.a.createElement(mt.a,{value:a,key:a},t)}));return r.a.createElement(dt.a,{component:"fieldset",className:l.formControl},r.a.createElement(pt.a,{id:"cycle",className:l.label},n),r.a.createElement(ft.a,{value:c.scheduleId,onChange:a},o))}function gt(e){var t=e.weekCount,a=e.onWeekSelected,n=e.selectedWeek,c=ee({formControl:{margin:"1rem",maxWidth:"100%",textTransform:"capitalize"},selectEmpty:{marginTop:"1rem"},select:{paddingRight:"0.5rem"}});if(!t)return null;var l=S(t).map((function(e){return r.a.createElement(mt.a,{value:e,key:e},"Week ",e)}));return r.a.createElement(dt.a,{component:"fieldset",className:c.formControl},r.a.createElement(ft.a,{value:n,onChange:a,className:c.select},l))}var vt=Object(je.c)({name:"learnerPbs",initialState:{pbs:{backSquat:100,clean:100,cleanAndJerk:100,frontSquat:100,jerk:100,pushPress:100,snatch:100}},reducers:{initPbs:function(e,t){e.pbs=t.payload}}}),yt=function(e){return e.learnerPbs.pbs},Et=vt.actions.initPbs,kt=vt.reducer,wt=Object(je.c)({name:"dailyExercises",initialState:{},reducers:{initDailyExercises:function(e,t){var a=t.payload,n=a.week,r=a.scheduleId;e["s".concat(r,"w").concat(n)]=JSON.parse(t.payload.exercises)}}}),xt=function(e){return Object.keys(e.dailyExercises)},St=wt.actions.initDailyExercises,Ot=wt.reducer;var jt=a(201);function Ct(e){var t=e.onClick,a=e.label,n=e.icon,c=e.disabled,l=e.classes,o=void 0===l?{}:l,s=Object(xe.a)(e,["onClick","label","icon","disabled","classes"]),i=n;return o.formBtn||o.formBtnLabel||(o=ee({formBtn:{width:"max-content"},formBtnLabel:{fontSize:"0.5rem",marginRight:"0.5rem"}})),r.a.createElement(nt.a,Object.assign({variant:"contained",color:"secondary",name:a,onClick:t,className:o.formBtn,disabled:c},s),r.a.createElement(at.a,{variant:"button",className:o.formBtnLabel},a),r.a.createElement(i,{fontSize:"small"}))}function Nt(e){var t=e.to,a=e.label,n=void 0===a?"Back":a,c=e.classes,l=void 0===c?{}:c,o=e.style,s=Object(xe.a)(e,["to","label","classes","style"]),u=Object(i.g)();return r.a.createElement(ae.a,{container:!0,item:!0,justify:"center",style:o||{padding:"1rem"}},r.a.createElement(Ct,Object.assign({classes:l,label:n,icon:jt.a,onClick:function(){u.push("".concat(t))}},s)))}var Pt=a(202),It=Object(X.a)((function(){return{wrapper:{margin:"0 auto",display:"flex",alignContent:"space-around",height:"100%",flexDirection:"column",flexWrap:"nowrap"},itemWrapper:{margin:"0 auto",display:"flex",flexDirection:"column",alignContent:"space-around",justifyContent:"center"},header:{fontWeight:"var(--fw-md)",fontSize:"1.25rem"},btn:{display:"flex",justifyContent:"space-evenly",width:"max-content",margin:"1rem auto",background:"var(--txt-cl)"},btnLabel:{fontSize:"0.5rem"}}}));function At(e){var t=e.selectedSchedule,a=e.schedules,n=e.onScheduleChecked,c=e.onScheduleSubmitted,l=e.selectedWeek,o=e.onWeekSelected,s=It();return r.a.createElement(ae.a,{container:!0,className:s.wrapper},r.a.createElement(ae.a,{item:!0,xs:8,md:6,lg:4,className:s.itemWrapper},r.a.createElement(at.a,{component:"header",className:s.header},t.programmeName)),r.a.createElement(ae.a,{item:!0,xs:10,md:6,lg:4,className:s.itemWrapper,style:{background:"var(--txt-cl)",boxShadow:"var(--bsd-sm)"}},r.a.createElement(ht,{schedules:a,onScheduleChecked:n,label:"Available Cycles",selectedSchedule:t}),r.a.createElement(gt,{onWeekSelected:o,weekCount:t.weekCount,label:"Week",selectedWeek:l})),r.a.createElement(ae.a,{item:!0,xs:9,sm:6,md:4,lg:3,container:!0,wrap:"nowrap",className:s.itemWrapper,style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(Nt,{to:"/learner/practice.bests",label:"To PBs",style:{padding:"1rem 0"}}),r.a.createElement(ae.a,{container:!0,item:!0,justify:"center",style:{padding:"0"}},r.a.createElement(nt.a,{className:s.btn,variant:"contained",onClick:c},r.a.createElement(at.a,{variant:"button",className:s.btnLabel},"Let's Go"),r.a.createElement(Pt.a,{fontSize:"small"})))))}function Lt(e){var t=e.exercises,a=e.onDaySelected,n=e.selectedDay,c=e.label,l=ee({formControl:{margin:"1rem",maxWidth:"100%",textTransform:"capitalize"},selectEmpty:{marginTop:"1rem"},select:{paddingRight:"0.75rem"}});if(!t)return r.a.createElement(at.a,{component:"p"},"No ",c," Available");var o=t.map((function(e){return r.a.createElement(mt.a,{value:e,key:e},e)}));return r.a.createElement(dt.a,{component:"fieldset",className:l.formControl},r.a.createElement(ft.a,{value:n,onChange:a,className:l.select},o))}var Bt=a(203),Ft=a(204),Tt=a(205),Dt=a(206),_t=a(207),Rt=a(208);function Wt(e){var t=e.dailyExercises,a=e.pbs;return r.a.createElement(Bt.a,null,r.a.createElement(Ft.a,{className:"learner-table",size:"small","aria-label":"learner-exercise -table"},r.a.createElement(Tt.a,null,r.a.createElement(Dt.a,null,Object.keys(t[0]).map((function(e){return r.a.createElement(_t.a,{key:e,className:"learner-table-cell head",align:"center"},v(e))})))),r.a.createElement(Rt.a,null,t.map((function(e){return r.a.createElement(Dt.a,{key:e.exerciseName,className:"timetable-row"},r.a.createElement(_t.a,{className:"learner-table-cell",align:"center"},e.exerciseName),r.a.createElement(_t.a,{className:"learner-table-cell",align:"center"},Q(e,a)))})))))}var Ut=a(209),Mt=a(210),zt=Object(X.a)((function(){return{dialog:{width:"90%",height:"90%",maxWidth:"600px",margin:"1rem auto"},content:{background:"var(--txt-cl)",paddingTop:"0"},form:{margin:"11% auto var(--mg-sm)",width:"100vw",height:"100vh"},container:{}}}));function Jt(e){var t=e.onDialogCloseClicked,a=e.open,n=e.feedbackForm,c=zt(),l=n;return r.a.createElement(Ut.a,{fullScreen:!0,open:a,onClose:t,"aria-labelledby":"form-dialog-title",className:c.dialog},r.a.createElement(Mt.a,{className:c.content},r.a.createElement(l,null)))}var Ht=Object(X.a)((function(){return{dialog:{width:"90vw",height:"90%",margin:"1rem auto"},paperScrollPaper:{width:"90vw",height:"90%",margin:"1rem auto"},content:{background:"var(--txt-cl)",paddingTop:"0"},form:{margin:"11% auto var(--mg-sm)",width:"100vw",height:"100%"}}}));function qt(e){var t=e.onDialogCloseClicked,a=e.onPersonalBestsInputChange,n=e.pbs,c=e.open,l=Ht();return r.a.createElement(ae.a,{container:!0,item:!0,xs:10,sm:8,md:6,lg:4},r.a.createElement(Ut.a,{open:c,onClose:t,"aria-labelledby":"form-dialog-title",maxWidth:!1,className:l.dialog,classes:{paperScrollPaper:l.paperScrollPaper}},r.a.createElement(Mt.a,{className:l.content},r.a.createElement(Yt,{pbs:n,onPersonalBestsInputChange:a,onDialogCloseClicked:t}))))}var Vt=a(211);function Kt(e){var t=e.label,a=Object(xe.a)(e,["label"]);return r.a.createElement(ae.a,{item:!0,style:{marginBottom:"0.5rem"}},r.a.createElement(et.a,Object.assign({label:v(t),className:"text-input"},a)))}function Yt(e){var t=e.pbs,a=e.onPersonalBestsInputChange,n=e.onDialogCloseClicked,c=Object.keys(t).map((function(e){return"learnerId"===e?null:r.a.createElement(Kt,{label:e,name:e,type:"text",key:e,value:t[e],error:!L(t[e]),helperText:!L(t[e])&&"Must be 0 or bigger",onChange:a,InputProps:{endAdornment:r.a.createElement(tt.a,{position:"end"},"Kg")}})})),l=ee({btn:{width:"40%",margin:"1rem auto",background:"var(--txt-cl)",display:"flex",fontSize:"0.5rem",justifyContent:"space-around"}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{item:!0,xs:10,sm:8,md:6,lg:4,style:{margin:"0 auto 0.5rem"}},r.a.createElement("h3",{style:{textTransform:"capitalize",textAlign:"center"}},"Personal Bests")),r.a.createElement("form",null,r.a.createElement(ae.a,{container:!0,item:!0,direction:"column",justify:"space-around",align:"center",wrap:"nowrap",style:{height:"90vh",margin:"0 auto"},xs:10,sm:8,md:6,lg:4},c)),r.a.createElement(ae.a,{item:!0,container:!0,style:{justifyContent:"center",margin:"0 auto"},xs:10,sm:8,md:6,lg:4},r.a.createElement(nt.a,{onClick:n,className:l.btn,variant:"contained",name:"Close"},r.a.createElement(Vt.a,{className:"pbs-btn-icon"}),"Close"),r.a.createElement(nt.a,{onClick:n,className:l.btn,variant:"contained",name:"Save",disabled:Object.values(t).some((function(e){return!1===L(e)}))},r.a.createElement(Qe.a,{className:"pbs-btn-icon"}),"Save")))}function Gt(e){var t=e.to,a=e.label,n=Object(xe.a)(e,["to","label"]),c=Object(i.g)();return r.a.createElement(nt.a,Object.assign({onClick:function(){return c.push(t)}},n),a)}function Zt(e){var t=e.classes,a=e.onPbsDialogOpenClicked,n=e.onFeedbackDialogOpenClicked;return r.a.createElement(ae.a,{item:!0,container:!0,justify:"space-between",wrap:"nowrap",style:{margin:"1rem auto",width:"100%",padding:"0 0.25rem",flexBasis:"auto"}},r.a.createElement(ae.a,{item:!0,className:t.btnWrapper},r.a.createElement(Gt,{variant:"contained",color:"primary",className:t.btn,to:"/learner/schedules",label:"Schedules"},"Schedules")),r.a.createElement(ae.a,{item:!0,className:t.btnWrapper},r.a.createElement(nt.a,{variant:"contained",color:"primary",className:t.btn,onClick:a},"Edit PBs")),r.a.createElement(ae.a,{item:!0,className:t.btnWrapper},r.a.createElement(nt.a,{variant:"contained",color:"primary",className:t.btn,onClick:n},"Feedback")))}var $t=a(103);function Qt(e){var t=function(e){return[e,Object.keys(e[0]).reduce((function(e,t){return"learnerId"===t?e:[].concat(Object(M.a)(e),[{Header:v("firstName"===t?"Name":t),accessor:t}])}),[])]}(e.payload),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useMemo)((function(){return c}),[]),i=Object(n.useMemo)((function(){return l}),[]),u=Object($t.useTable)({columns:i,data:s}),m=u.getTableProps,d=u.getTableBodyProps,p=u.headerGroups,f=u.rows,b=u.prepareRow;return r.a.createElement("table",Object.assign({},m(),{className:"learner-table"}),r.a.createElement("thead",null,p.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",Object.assign({className:"learner-table-cell head"},e.getHeaderProps()),e.render("Header"))})))}))),r.a.createElement("tbody",d(),f.map((function(e){return b(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",Object.assign({suppressContentEditableWarning:!0,contentEditable:"true",className:"learner-table-cell"},e.getCellProps()),e.render("Cell"))})))}))))}function Xt(e){var t=e.pbsList,a=e.title,n=e.selectMenu,c=ee({btn:{fontSize:"0.75rem",width:"max-content"},btnLabel:{fontSize:"0.5rem"},input:{fontWeight:"var(--fw-md)",minWidth:"max-content",fontSize:"0.75rem"},title:{textTransform:"capitalize",textAlign:"center",fontSize:"1rem",marginBottom:"0.5rem"}}),l=n,o=t;return r.a.createElement(ae.a,{item:!0,style:{width:"35%",overflow:"auto",maxHeight:"80vh"}},r.a.createElement(at.a,{variant:"h6",className:c.title},a),r.a.createElement(l,null),r.a.createElement(o,null))}var ea=a(212);function ta(e){var t=e.onExerciseNameSelected,a=e.selectedExerciseName,n=e.availableExercises,c=void 0===n?[]:n,l=ee({formControl:{maxWidth:"100%",textTransform:"capitalize"},selectEmpty:{marginTop:"1rem"},select:{paddingRight:"0.5rem"}}),o=Le.map((function(e){var t=c.includes(e);return r.a.createElement(mt.a,{value:e,key:e,style:{display:"flex",justifyContent:"space-between",color:t?"var(--bg-cl)":"#333",backgroundColor:t?"var(--txt-cl)":"#fff"}},e,t&&r.a.createElement(ea.a,{fontSize:"small"}))}));return r.a.createElement(dt.a,{component:"fieldset",className:l.formControl},r.a.createElement(ft.a,{value:a||Le[0],onChange:t,className:l.select,id:"learner-panel-exercise-select"},o))}var aa=a(146),na=a(238),ra=a(214),ca=a(235),la=a(215),oa={form:{action:"https://docs.google.com/forms/d/e/1FAIpQLSeBrxdCbRf1M0YvZVHp2n3taph7-pAS9mkbN99m2ZPeBrf0yQ/formResponse",target:"_self",method:"POST",id:"feedbackForm"},name:{id:"1211240847",name:"entry.1211240847"},nameLegend:{for:"332709656"},feeling:{name:"entry.558654627"},feelingLegend:{for:"623555019"},comment:{id:"1848121760",name:"entry.1848121760"},commentLegend:{for:"1642351844"}};function sa(e){switch(e){case 1:return"Meh ".concat(e);case 5:return"".concat(e," Fantastic");default:return e}}function ia(e){var t,a=e.setOpenFeedbackDialog,c=e.setActionStatus,l=(t={},Object(Ae.a)(t,oa.name.name,""),Object(Ae.a)(t,oa.feeling.name,""),Object(Ae.a)(t,oa.comment.name,""),Object(Ae.a)(t,"isNameEdited",!1),t),s=Object(n.useState)(l),i=Object(o.a)(s,2),u=i[0],m=i[1];function d(e){e.target.name!==oa.name.name||u.isNameEdited||(u.isNameEdited=!0),m(Object(ve.a)(Object(ve.a)({},u),{},Object(Ae.a)({},e.target.name,e.target.name===oa.feeling.name?parseInt(e.target.value):e.target.value))),console.log(e.target.value)}function p(e){if(e.preventDefault(),"submit"===e.currentTarget.getAttribute("name")){k.show(!0);c({action:"Sending Feedback",isActionSuccess:null}),console.log(u);$("#feedbackForm").ajaxSubmit({data:{},dataType:"jsonp",error:function(){k.show(!1),c({action:"Sending Feedback",isActionSuccess:!0}),a(!1)}})}else a(!1)}$("#feedbackForm").on("submit",p);var f=ee({formTitle:{fontSize:"1rem",textAlign:"center",fontWeight:"600"},formControl:{display:"flex",height:"100%",flexDirection:"column",justifyContent:"space-evenly"},formLabel:{marginBottom:"0.5rem"},formBtn:{width:"40%",maxWidth:"250px",display:"flex",justifyContent:"space-evenly",padding:"0.5rem"},formBtnLabel:{fontSize:"0.5rem"}});return r.a.createElement(dt.a,Object.assign({component:"form",className:f.formControl},oa.form),r.a.createElement(at.a,{variant:"h6",className:f.formTitle,color:"primary"},"\ud83c\udfcb"," Help Me Makes You Train Better ","\ud83c\udfcb"),r.a.createElement(aa.a,{component:"legend",htmlFor:oa.nameLegend.for}),r.a.createElement(et.a,{label:"Name",value:u[oa.name.name],onChange:d,error:u.isNameEdited&&0===u[oa.name.name].length,helperText:u.isNameEdited&&0===u[oa.name.name].length&&"Must not be empty",inputProps:oa.name}),r.a.createElement(ae.a,{item:!0},r.a.createElement(aa.a,{component:"legend",htmlFor:oa.feelingLegend.for,className:f.formLabel},"How do you feel about today's session?"),r.a.createElement(na.a,{"aria-label":"feeling",value:u[oa.feeling.name],onChange:d},S(5).map((function(e){return r.a.createElement(ra.a,{key:e,value:e,control:r.a.createElement(ca.a,{color:"primary",inputProps:oa.feeling}),label:sa(e)})})))),r.a.createElement(aa.a,{component:"legend",htmlFor:oa.commentLegend.for}),r.a.createElement(et.a,{multiline:!0,label:"Comment",rowsMax:5,value:u[oa.comment.name],onChange:d,inputProps:oa.comment}),r.a.createElement(ae.a,{container:!0,item:!0,wrap:"nowrap",justify:"space-between"},r.a.createElement(Ct,{onClick:p,label:"Close",name:"close",icon:Vt.a,classes:f}),r.a.createElement(Ct,{onClick:p,label:"Submit",icon:la.a,name:"submit",type:"submit",classes:f,disabled:""===u[oa.name.name]||""===u[oa.feeling.name]})))}function ua(e){var t=e.onInstructorLogIn;Y.setCurrentPage("/instructor/login");var a=Object(n.useState)({email:"",password:""}),c=Object(o.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(null),u=Object(o.a)(i,2),m=u[0],d=u[1];function p(){return(p=Object(g.a)(h.a.mark((function e(a){var n,r,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(n=I(l))){e.next=5;break}return d(n),e.abrupt("return");case 5:return d(null),console.log("Logging in with ",l),e.next=9,_.instructorLogin(l);case 9:if(r=e.sent,c=r.ok,o=r.payload,c){e.next=17;break}return d(o.message),e.abrupt("return");case 17:f.saveToken(o.token),t();case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",minHeight:"100%",margin:"0 auto"}},r.a.createElement(da,null),r.a.createElement(ba,{title:"Instructor Login",onFormSubmitted:function(e){return p.apply(this,arguments)},credentials:l,onInputChanged:function(e){var t=e.target.getAttribute("name"),a=e.target.value.trim();s((function(e){return e[t]=a,e}))},errorMessage:m,type:"instructor"}))}function ma(e){var t=e.onLearnerLogIn,a=e.isLearnerLoggedIn;Y.setCurrentPage("/learner/login");var c=Object(Oe.b)(),l=Object(n.useState)({username:"",password:""}),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),b=p[0],v=p[1];function y(e){return E.apply(this,arguments)}function E(){return(E=Object(g.a)(h.a.mark((function e(a){var n,r,l,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=A(a))){e.next=4;break}return v(n),e.abrupt("return");case 4:return v(null),console.log("Logging in with ",a),e.next=8,R.learnerLogin(a);case 8:if(r=e.sent,l=r.ok,o=r.payload,l){e.next=16;break}return v(o.message),e.abrupt("return");case 16:f.saveToken(o.token),delete o.token,c(it(o.schedules)),c(Et(o.pbs)),t();case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),y(u);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=Object(n.useState)(sessionStorage.getItem("programmes")?JSON.parse(sessionStorage.getItem("programmes")):null),x=Object(o.a)(w,2),S=x[0],O=x[1],j=Object(n.useState)(!1),P=Object(o.a)(j,2),I=P[0],L=P[1];Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S||!I){e.next=7;break}return e.next=3,W.fetchProgrammes();case 3:t=e.sent,a=t.ok,n=t.payload,a&&(O(n.programmes),q(n.programmes));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[I,S]);var B={firstName:"",lastName:"",email:"",programmeId:S?S[0].programmeId:""},F={firstName:null,lastName:null,email:null,programmeId:!0},T=Object(n.useState)(B),D=Object(o.a)(T,2),_=D[0],U=D[1],M=Object(n.useState)(F),z=Object(o.a)(M,2),J=z[0],H=z[1];function q(e){sessionStorage.setItem("programmes",JSON.stringify(e))}var V=we("sign up",R.learnerSignup),K=V.SignUpSnackbar,G=V.callDecoratedSignUpService;function Z(){H(F),U(B),L(!1)}function $(){return($=Object(g.a)(h.a.mark((function e(t){var a,n,r,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.currentTarget.getAttribute("name"),e.t0=a,e.next="Close"===e.t0?4:5;break;case 4:return e.abrupt("return",Z());case 5:return e.next=7,G(_);case 7:if(n=e.sent,r=n.ok,c=n.payload,!r){e.next=17;break}if(Z(),l=c.username,!window.confirm('Your new username and password are "'.concat(l,'" and "password. Would you like to sign in?'))){e.next=17;break}return e.next=16,y({username:l,password:"password"});case 16:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",Z());case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a?r.a.createElement(i.a,{to:"learner/schedules"}):r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",minHeight:"100%",margin:"0 auto"}},r.a.createElement(da,null),r.a.createElement(ba,{title:"Learner Login",onFormSubmitted:function(e){return k.apply(this,arguments)},credentials:u,onInputChanged:function(e){var t=e.target.getAttribute("name"),a=e.target.value.trim();m((function(e){return e[t]=a,e}))},errorMessage:b,onSignUpBtnClicked:function(e){e.preventDefault(),L(!0)}}),S&&r.a.createElement(ya,{open:I,onSignUpDialogClosed:function(e){return $.apply(this,arguments)},onLearnerInputChanged:function(e){!function(e,t){var a=e.currentTarget.getAttribute("name")?e.currentTarget.getAttribute("name"):e.target.name,n=e.currentTarget.value?e.currentTarget.value:e.target.value;console.log(a,n),"firstName"!==a&&"lastName"!==a||(C(n)?H((function(e){var t=Object(ve.a)({},e);return t["".concat(a)]=!0,t})):H((function(e){var t=Object(ve.a)({},e);return t["".concat(a)]=!1,t}))),"email"===a&&(N(n)&&C(n)?H((function(e){return Object(ve.a)(Object(ve.a)({},e),{},{email:!0})})):H((function(e){return Object(ve.a)(Object(ve.a)({},e),{},{email:!1})}))),t((function(e){var t=Object(ve.a)({},e);return t["".concat(a)]="programmeId"!==a?n.trim().toLowerCase():parseInt(n),t}))}(e,U)},tempLearner:_,isInputValid:J,programmes:S}),r.a.createElement(K,null))}function da(e){var t=e.style;return r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement("img",{style:t,className:"logo",src:a(137),alt:"New Zealand Olympic Weight-Lifting Logo"}))}function pa(e){var t=e.label,a=e.onClick,n=e.className;return r.a.createElement(nt.a,{type:"Sign Up"===t?null:"submit",onClick:a,variant:"contained",color:"secondary",className:n},t)}function fa(e){var t=e.errorMessage;return r.a.createElement("div",{className:"error-message-wrapper"},r.a.createElement("p",{className:"error-message",style:{visibility:t?"visible":"hidden"}},t))}function ba(e){var t=e.title,a=e.onFormSubmitted,n=e.errorMessage,c=e.type,l=e.credentials,o=e.onInputChanged,s=e.onSignUpBtnClicked;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{fontSize:"calc(var(--fs-md) * 0.75)",marginBottom:"3rem"}},t),r.a.createElement("form",{className:"login-form",onSubmit:a},r.a.createElement(ha,{credentials:l,onInputChanged:o}),r.a.createElement(fa,{errorMessage:n}),r.a.createElement(ga,{type:c,onSignUpBtnClicked:s})))}function ha(e){var t=e.credentials,a=e.onInputChanged,n=Object.keys(t).map((function(e){return r.a.createElement(ae.a,{item:!0,container:!0,xs:10,sm:6,md:4,lg:3,style:{margin:"0 auto"},key:e,justify:"space-between"},r.a.createElement(et.a,{style:{marginBottom:"1rem",width:"100%"},variant:"outlined",label:e,InputProps:{name:e,type:"password"===e?"password":"text"},onChange:a}))}));return r.a.createElement(r.a.Fragment,null,n)}function ga(e){var t,a=e.type,n=e.onSignUpBtnClicked,c=ee({wrapper:{margin:"0 auto"},instructorLoginBtn:{fontSize:"0.65rem",width:"100%"},learnerLoginPageBtns:{fontSize:"0.65rem",width:"40%"}});return t="instructor"===a?r.a.createElement(pa,{label:"Log In",className:c.instructorLoginBtn}):r.a.createElement(r.a.Fragment,null,r.a.createElement(pa,{onClick:n,label:"Sign Up",className:c.learnerLoginPageBtns}),r.a.createElement(pa,{label:"Log In",className:c.learnerLoginPageBtns})),r.a.createElement(ae.a,{item:!0,container:!0,justify:"space-between",xs:10,sm:6,md:4,lg:3,className:c.wrapper},t)}function va(e){var t=e.onClick,a=e.classes,n=e.label,c=e.icon,l=e.disabled,o=c;return r.a.createElement(nt.a,{variant:"contained",color:"secondary",name:n,onClick:t,className:a.formBtn,disabled:l},r.a.createElement(at.a,{variant:"button",className:a.formBtnLabel},n),r.a.createElement(o,{fontSize:"small"}))}function ya(e){var t=e.open,a=e.onLearnerInputChanged,n=e.tempLearner,c=e.isInputValid,l=e.onSignUpDialogClosed,o=e.programmes,s=ee({dialog:{width:"90vw",height:"90%",margin:"1rem auto"},content:{background:"var(--txt-cl)",paddingTop:"0"},form:{margin:"11% auto var(--mg-sm)",width:"100%",height:"100%"},formBtn:{display:"flex",justifyContent:"space-evenly",maxWidth:"30%",margin:"1rem auto"},formBtnLabel:{fontSize:"0.4rem"},paperScrollPaper:{width:"100%",maxWidth:"600px",height:"max-content",margin:"0"}});return r.a.createElement(Ut.a,{open:t,"aria-labelledby":"form-dialog-title",className:s.dialog,classes:{paperScrollPaper:s.paperScrollPaper}},r.a.createElement(Mt.a,{className:s.content},r.a.createElement(ka,{isInputValid:c,onLearnerInputChanged:a,tempLearner:n,programmes:o,buttons:r.a.createElement(ae.a,{container:!0,wrap:"nowrap",justify:"space-between"},r.a.createElement(va,{onClick:l,label:"Close",classes:s,icon:Vt.a}),r.a.createElement(va,{onClick:l,label:"Submit",classes:s,icon:Qe.a,disabled:Object.values(c).some((function(e){return!1===e||null===e}))}))})))}function Ea(e){var t=e.label,a=Object(xe.a)(e,["label"]);return r.a.createElement(ae.a,{item:!0,align:"left"},r.a.createElement(et.a,Object.assign({label:v(t),className:"text-input"},a,{InputProps:{required:!0}})))}function ka(e){var t=e.tempLearner,a=e.onLearnerInputChanged,n=e.buttons,c=e.isInputValid,l=e.programmes;function o(e,t){if(!t)switch(e){case"firstName":case"lastName":return"Must not be empty";case"email":return"Must have a valid email format"}return null}var s=Object.keys(t).map((function(e){return"programmeId"===e?null:r.a.createElement(Ea,{label:e,name:e,type:"text",key:e,value:t[e],onChange:a,error:!1===c["".concat(e)],helperText:!1===c["".concat(e)]&&o(e,c["".concat(e)]),style:{minWidth:"100%"}})}));function i(){return r.a.createElement(at.a,{variant:"h6",style:{textTransform:"capitalize",textAlign:"center"}},"Sign Up")}return r.a.createElement(ae.a,{container:!0,direction:"column",justify:"center",wrap:"nowrap",style:{overflow:"hidden"}},r.a.createElement(i,null),r.a.createElement("form",null,r.a.createElement(ae.a,{container:!0,direction:"column",justify:"space-between",alignContent:"center",wrap:"nowrap",style:{height:"50vh",padding:"1rem"}},s,r.a.createElement(wa,{programmes:l,value:t.programmeId,onChange:a,label:"Available Programmes",style:{minWidth:"100%"},name:"programmeId"}))),n)}function wa(e){var t=e.programmes,a=e.label,n=Object(xe.a)(e,["programmes","label"]),c=t.map((function(e){return r.a.createElement(mt.a,{value:e.programmeId,key:e.programmeId},e.programmeName)}));return r.a.createElement(ae.a,{item:!0,align:"left",style:{marginTop:"1rem"}},r.a.createElement(pt.a,null,a),r.a.createElement(ft.a,n,c))}var xa=a(217);function Sa(e){var t=e.exerciseNames,a=e.onExerciseClicked,n=t.map((function(e){return r.a.createElement(re.a,{button:!0,key:e,id:e,onClick:a,divider:!0,className:"exercise-list-item"},r.a.createElement(ce.a,null,"no exercise found"===e?r.a.createElement(Ge.a,null):r.a.createElement(he.a,null)),r.a.createElement(le.a,{primary:e}))}));return r.a.createElement(ie.a,{style:{minWidth:"95vw"}},n)}function Oa(e){switch(e.fieldName){case"weight":return r.a.createElement(tt.a,{position:"end"},"Kg");case"repMax":return r.a.createElement(tt.a,{position:"end"},"Times");default:return null}}function ja(e){var t=e.label,a=Object(xe.a)(e,["label"]);return r.a.createElement(ae.a,{item:!0,align:"left"},r.a.createElement(et.a,Object.assign({label:v(t),className:"text-input"},a,{InputProps:{endAdornment:r.a.createElement(Oa,{fieldName:t}),required:!0}})))}function Ca(e){var t=e.record,a=e.onRecordInputChange,n=e.buttons,c=e.isInputValid;function l(e,t){return"weight"===e&&!1===t?"Must Be A Positive Number":"repMax"===e&&!1===t?"Please enter a Valid Rep Max from x1 to x10":"lastEdited"===e&&!1===t?"Please enter a valid Date!":null}var o=t?Object.keys(t).map((function(e){return["learnerId","pbId","exerciseName"].includes(e)?null:r.a.createElement(ja,{label:e,name:e,type:"text",key:e,value:"lastEdited"===e?new Date(t[e]).toDateString():t[e],onChange:a,error:!c["".concat(e)],helperText:l(e,c["".concat(e)]),disabled:"lastEdited"===e,style:{minWidth:"100%"}})})):null;function s(e){var t=e.exerciseName,a=e.repMax,n=e.lastEdited;return r.a.createElement(at.a,{variant:"h6",style:{textTransform:"capitalize",textAlign:"center"}},"".concat(t),r.a.createElement("br",null),"".concat(a," REPs"),r.a.createElement("br",null),r.a.createElement("small",{style:{fontSize:"1rem",opacity:"0.75",fontStyle:"italic"}},new Date(n).toDateString()))}return r.a.createElement(ae.a,{container:!0,direction:"column",justify:"center",style:{overflow:"hidden"}},r.a.createElement(s,t),r.a.createElement("form",null,r.a.createElement(ae.a,{container:!0,direction:"column",justify:"space-evenly",alignContent:"center",style:{height:"40vh"}},o)),n)}function Na(e){var t=e.open,a=e.onRecordInputChange,n=e.record,c=e.isInputValid,l=e.onDialogCloseClicked,o=ee({dialog:{width:"90vw",height:"90%",margin:"1rem auto"},content:{background:"var(--txt-cl)",paddingTop:"0"},form:{margin:"11% auto var(--mg-sm)",width:"100%",height:"100%"},formBtn:{display:"flex",justifyContent:"space-evenly",maxWidth:"30%",margin:"1rem auto"},formBtnLabel:{fontSize:"0.4rem"},paperScrollPaper:{width:"100%",maxWidth:"600px",height:"max-content",margin:"0"}});return r.a.createElement(Ut.a,{open:t,"aria-labelledby":"form-dialog-title",className:o.dialog,classes:{paperScrollPaper:o.paperScrollPaper}},r.a.createElement(Mt.a,{className:o.content},r.a.createElement(Ca,{isInputValid:c,onRecordInputChange:a,record:n,buttons:r.a.createElement(ae.a,{container:!0,wrap:"nowrap",justify:"space-between"},r.a.createElement(Ct,{onClick:l,label:"Close",classes:o,icon:Vt.a}),r.a.createElement(Ct,{onClick:l,label:"Save",classes:o,icon:Qe.a,disabled:Object.values(c).some((function(e){return!1===e}))}),n.pbId&&r.a.createElement(Ct,{onClick:l,label:"Delete",classes:o,icon:Xe.a}))})))}var Pa=a(218),Ia=a(219);function Aa(e){var t=e.onAddNewRecordBtnClicked,a=Object(xe.a)(e,["onAddNewRecordBtnClicked"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pa.a,{onClick:t,"aria-label":"add",style:{position:"fixed",right:"7%",bottom:"7%",zIndex:3,background:"var(--txt-cl)"},id:"add-new-pb-btn"},r.a.createElement(Ia.a,null)),r.a.createElement(Na,a))}function La(e){var t=e.value,a=e.onChange,n=e.items,c=ee({select:{minWidth:"2rem"},wrapper:{margin:"1rem 0"}});return r.a.createElement(ae.a,{item:!0,container:!0,justify:"space-around",className:c.wrapper},r.a.createElement(ft.a,{value:t,onChange:a,classes:{select:c.select}},n.map((function(e){return r.a.createElement(mt.a,{value:e,key:e},e)}))))}var Ba={learner:[{to:"/learner/schedules",label:"Schedules",component:function(){Y.setCurrentPage("/learner/schedules");var e=Object(Oe.c)(st),t=Object(n.useState)(e?e[0]:null),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(e?1:null),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(!1),f=Object(o.a)(p,2),b=f[0],h=f[1];return b?r.a.createElement(i.a,{to:"/learner/".concat(c.scheduleId,"/").concat(m)}):r.a.createElement(At,{selectedSchedule:c,schedules:e,onScheduleChecked:function(t){var a=parseInt(t.target.value);console.log(a),l(e.find((function(e){return e.scheduleId===a})))},onScheduleSubmitted:function(e){h(!0)},selectedWeek:m,onWeekSelected:function(e){console.log(e.target),d(parseInt(e.target.value))}})},isProtected:!0,display:!0,icon:be.a},{to:"/learner/practice.bests",label:"Practice Bests",component:function(){var e=ee({wrapper:{paddingTop:"0.5rem"},searchBar:{padding:"1rem"},icon:{color:"#315c4d"},listWrapper:{maxHeight:"65vh",overflow:"auto",textTransform:"capitalize"}}),t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(Le),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(i.g)(),f=Object(n.useCallback)((function(e){var t=e.currentTarget.getAttribute("id");console.log("Clicked!",t),p.push("/practice.bests/".concat(encodeURI(t)))}),[p]);return r.a.createElement(ae.a,{container:!0,spacing:3,direction:"column",justify:"center",align:"space-between",className:e.wrapper},r.a.createElement(ae.a,{item:!0,container:!0,justify:"center"},r.a.createElement(et.a,{placeholder:"Search Exercise",InputProps:{startAdornment:r.a.createElement(tt.a,{position:"start"},r.a.createElement(xa.a,{className:e.icon}))},className:e.searchBar,value:c,onChange:function(e){l(e.currentTarget.value),d(function(e){var t=RegExp(e,"gi"),a=Le.filter((function(e){return t.test(e)}));return a.length>0?a:["no exercise found"]}(e.currentTarget.value))}})),r.a.createElement(ae.a,{item:!0,container:!0,justify:"center",className:e.listWrapper},r.a.createElement(Sa,{exerciseNames:m,onExerciseClicked:f})),r.a.createElement(Nt,{to:"/learner/schedules",label:"Back to Schedules"}))},isProtected:!0,display:!0,icon:he.a},{to:"/logout",label:"Log Out",component:null,isProtected:!0,display:!0,icon:ge.a},{to:"/practice.bests/:exerciseName",label:"Practice Best",component:function(){var e=ee({wrapper:{height:"100%",margin:"0 auto"}}),t=Object(Oe.b)(),a=Object(i.h)().exerciseName;Y.setCurrentPage("/learner/practice.bests");var c=Object(Oe.c)((function(e){return function(e,t){return e.practiceBests["".concat(t)]?Te(e.practiceBests["".concat(t)].filter((function(t){return"All"===e.practiceBests.currentRepMax||t.repMax===e.practiceBests.currentRepMax}))):null}(e,a)})),l=we("add",R.createNewPracticeBest),s=l.callDecoratedAddService,u=l.AddSnackbar,m=we("update",R.updatePracticeBest),d=m.callDecoratedUpdateService,p=m.UpdateSnackbar,f=we("delete",R.deletePracticeBest),b=f.callDecoratedDeleteService,v=f.DeleteSnackbar,y={exerciseName:a,repMax:"x1",weight:100,lastEdited:(new Date).toDateString()},k={repMax:!0,weight:!0,lastEdited:!0},w=Object(n.useState)(null),x=Object(o.a)(w,2),S=x[0],j=x[1],N=Object(n.useState)(y),I=Object(o.a)(N,2),A=I[0],L=I[1],B=Object(n.useState)(!1),F=Object(o.a)(B,2),T=F[0],D=F[1],_=Object(n.useState)(!1),W=Object(o.a)(_,2),U=W[0],z=W[1],J=Object(n.useState)(k),H=Object(o.a)(J,2),q=H[0],V=H[1],K=Object(Oe.c)(We);function G(e,t){var a,n,r=e.currentTarget.getAttribute("name"),c=e.currentTarget.value;"weight"===r&&(C(a=c)&&P(a)&&parseFloat(a)>0?V((function(e){return Object(ve.a)(Object(ve.a)({},e),{},{weight:!0})})):V((function(e){return Object(ve.a)(Object(ve.a)({},e),{},{weight:!1})}))),"repMax"===r&&(n=c,O(10).includes(n)?V((function(e){return Object(ve.a)(Object(ve.a)({},e),{},{repMax:!0})})):V((function(e){return Object(ve.a)(Object(ve.a)({},e),{},{repMax:!1})}))),t((function(e){var t=Object(ve.a)({},e);return t["".concat(r)]=c,t}))}function Z(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];V(k),e&&L(y)}function $(){return($=Object(g.a)(h.a.mark((function e(a){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Close"!==a.currentTarget.getAttribute("name")){e.next=4;break}return Z(),e.abrupt("return",z(!1));case 4:return e.next=6,s(A);case 6:return n=e.sent,r=n.ok,c=n.payload,r&&t(He(c)),L(y),e.abrupt("return",z(!1));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=Object(n.useCallback)((function(e){!function(e){var t=e.currentTarget.getAttribute("pbid"),a=c.find((function(e){return e.pbId===parseInt(t)}));j(a),D(!0)}(e)}),[c]);function X(){return(X=Object(g.a)(h.a.mark((function e(a){var n,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Close"!==(n=a.currentTarget.getAttribute("name"))){e.next=6;break}return Z(!1),e.abrupt("return",D(!1));case 6:if("Delete"!==n){e.next=17;break}if(!window.confirm("Are you sure you want to delete this record?")){e.next=17;break}return e.next=10,b({pbId:S.pbId});case 10:if(r=e.sent,!r.ok){e.next=16;break}return t(Je(S)),Z(!1),e.abrupt("return",D(!1));case 16:return e.abrupt("return");case 17:if(E(c.find((function(e){return e.pbId===S.pbId})),S)){e.next=23;break}return e.next=20,d(S);case 20:l=e.sent,l.ok&&t(ze(S));case 23:return Z(!1),e.abrupt("return",D(!1));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(h.a.mark((function e(a){var n,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=11;break}return e.next=3,R.getPracticeBestsByExerciseName(a);case 3:if(n=e.sent,r=n.ok,l=n.payload,!r){e.next=10;break}t(Me({exerciseName:a,records:l})),e.next=11;break;case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(a)}),[a,t,c]),r.a.createElement(ae.a,{container:!0,direction:"column",justify:"center",alignContent:"center",className:e.wrapper,xs:12,md:6},r.a.createElement(at.a,{variant:"h5",style:{textTransform:"capitalize"}},a),r.a.createElement(La,{items:["All"].concat(Object(M.a)(O(10))),value:K,onChange:function(e){t(qe(e.target.value))}}),c?r.a.createElement(Ze,{currentRepMax:K,records:c,onEditClicked:Q}):r.a.createElement("div",null,"Fetching Records for ",a),S&&r.a.createElement(Na,{open:T,onDialogCloseClicked:function(e){return X.apply(this,arguments)},record:S,exerciseName:a,onRecordInputChange:function(e){G(e,j)},isInputValid:q}),r.a.createElement(Aa,{open:U,onDialogCloseClicked:function(e){return $.apply(this,arguments)},onRecordInputChange:function(e){G(e,L)},record:A,onAddNewRecordBtnClicked:function(e){z(!0)},isInputValid:q}),r.a.createElement(u,null),r.a.createElement(p,null),r.a.createElement(v,null),r.a.createElement(ae.a,{item:!0,container:!0,align:"space-between",direction:"column"},r.a.createElement(Nt,{to:"/learner/practice.bests",label:"Back to PBs List"}),r.a.createElement(Nt,{to:"/learner/schedules",label:"To Schedules",icon:Pt.a,style:{padding:"0"}})))},isProtected:!0,display:!1},{to:"/learner/:scheduleId/:week",label:"Exercises",component:function(){var e=Object(Oe.b)(),t=Object(i.g)(),a=Object(i.h)(),c=a.scheduleId,l=a.week,s=Object(Oe.c)((function(e){return function(e,t,a){return e.dailyExercises["s".concat(t,"w").concat(a)]}(e,c,l)})),u=Object(Oe.c)((function(e){return function(e,t){return e.learnerSchedules.schedules.find((function(e){return e.scheduleId===parseInt(t)}))}(e,c)})),m=Object(Oe.c)(xt),d=Object(Oe.c)(yt),p=Object(n.useState)(Object(Oe.c)(yt)),f=Object(o.a)(p,2),b=f[0],v=f[1],y=Object(n.useState)("day 1"),k=Object(o.a)(y,2),w=k[0],x=k[1],S=Object(n.useState)(!1),O=Object(o.a)(S,2),j=O[0],C=O[1],N=Object(n.useState)(!1),P=Object(o.a)(N,2),I=P[0],A=P[1],L=Se("exercises").FetchNotificationDiv,B=we("update pbs",R.updateLearnerPbs),F=B.callDecoratedUpdatePbsService,T=B.UpdatePbsSnackbar;function D(){return(D=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Close"!==a.currentTarget.getAttribute("name")){t.next=5;break}return v(d),A(!1),t.abrupt("return");case 5:if(E(d,b)){t.next=11;break}return t.next=8,F(b);case 8:n=t.sent,n.ok;case 11:e(Et(b)),A(!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){function t(){return(t=Object(g.a)(h.a.mark((function t(a,n){var r,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!m.includes("s".concat(a,"w").concat(n))){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,W.fetchExercises(a,n);case 4:r=t.sent,c=r.ok,l=r.payload,c&&e(St({exercises:l,scheduleId:a,week:n}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(e,a){t.apply(this,arguments)}(c,l)}),[c,l,e,m]);var _=Object(n.useState)({action:null,isActionSuccess:!0,errorMessage:null}),U=Object(o.a)(_,2),M=U[0],z=U[1];function J(){z({action:null,isActionSuccess:null})}Object(n.useEffect)((function(){if(null!==M.isActionSuccess){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return setTimeout((function(){return J()}),1e3*e)}();return function(){clearTimeout(e)}}}),[M.isActionSuccess]);var H=ee({btn:{fontSize:"0.5rem",width:"100%",color:"var(--txt-cl)",padding:"0.5rem"},btnWrapper:{width:"30%"}});return s?r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{container:!0,item:!0,direction:"column",justify:"space-around",style:{height:"100%",margin:"0 auto"},xs:12,sm:10,md:8,lg:6,wrap:"nowrap"},r.a.createElement(ae.a,{item:!0},u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(at.a,{variant:"h6",component:"div"},u.scheduleName),r.a.createElement(ae.a,{item:!0,container:!0,justify:"space-evenly",wrap:"nowrap"},r.a.createElement(gt,{weekCount:u.weekCount,onWeekSelected:function(e){t.push("/learner/".concat(c,"/").concat(e.target.value))},selectedWeek:l,label:"Week"}),r.a.createElement(Lt,{exercises:Object.keys(s),onDaySelected:function(e){x(e.target.value)},selectedDay:w,label:"Day"}))),r.a.createElement(Wt,{dailyExercises:s[w],pbs:d})),r.a.createElement(Zt,{classes:H,onPbsDialogOpenClicked:function(){A(!0)},onFeedbackDialogOpenClicked:function(){C(!0)}})),r.a.createElement(Jt,{onDialogCloseClicked:function(){C(!1)},open:j,feedbackForm:function(){return r.a.createElement(ia,{setOpenFeedbackDialog:C,setActionStatus:z})}}),r.a.createElement(ke,{actionStatus:M,onCloseActionStatusDiv:J}),r.a.createElement(qt,{onDialogCloseClicked:function(e){return D.apply(this,arguments)},open:I,pbs:b,onPersonalBestsInputChange:function(e){var t=e.target.getAttribute("name"),a=e.target.value;v((function(e){var n=Object(ve.a)({},e);return n["".concat(t)]=a,n}))}}),r.a.createElement(T,null)):r.a.createElement(ae.a,{container:!0,direction:"column",style:{height:"100%",paddingTop:"2rem"}},r.a.createElement(L,null))},isProtected:!0,display:!1}],instructorApp:[{to:"/instructor/login",label:"Instructor Space",isProtected:!1,display:!0},{to:"http://lifting-schedule.herokuapp.com",label:"Version 1.0",isProtected:!1,display:!0}]};function Fa(e){var t=e.onAppChange,a=Object(n.useState)(f.isAuthenticated()),c=Object(o.a)(a,2),l=c[0],d=c[1],p=Object(n.useState)(f.isAuthenticated()?Ba.learner:Ba.instructorApp),b=Object(o.a)(p,2),h=b[0],g=b[1];return r.a.createElement(s.a,null,r.a.createElement(u,{links:h,onLogOut:function(e){console.log("log me out!"),f.clearToken(),Y.setCurrentPage("/learner/login"),g(Ba.instructorApp),d(!1)},pageTitle:"Learner Space",onAppChange:t}),r.a.createElement("div",{className:"App main"},l?r.a.createElement(i.a,{to:"/learner/login"!==Y.getCurrentPage()&&null!==Y.getCurrentPage()?Y.getCurrentPage():"/learner/schedules"}):r.a.createElement(ma,{onLearnerLogIn:function(){g(Ba.learner),d(!0)},isLearnerLoggedIn:l}),r.a.createElement(te,{links:h})),r.a.createElement(m,null))}var Ta=a(231),Da=a(232),_a=a(233),Ra=function e(t,a){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(d.a)(this,e),this.reader=new FileReader,this.reader.programmeIds=t,this.reader.scheduleName=a,this.reader.isNew=n,this.reader.scheduleId=r,this.reader.makeTimeTable=function(e){var t={};return function(e){var t=[0,0];return e.reduce((function(e,a){var n=a.week,r=a.day;return t[0]===n&&t[1]===r||(t=[n,r],e.push([n,r])),e}),[])}(e).forEach((function(a){return n=a[0],r=a[1],void e.filter((function(e){var t=e.week,a=e.day;return t===n&&a===r})).reduce((function(e,t){var a=t.exerciseName,c=t.instruction;return void 0===e["week ".concat(n)]&&(e["week ".concat(n)]={}),void 0===e["week ".concat(n)]["day ".concat(r)]&&(e["week ".concat(n)]["day ".concat(r)]=[]),e["week ".concat(n)]["day ".concat(r)].push({exerciseName:a,instruction:c}),e}),t);var n,r})),t},this.reader.onload=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,c,l,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.result,r=J.a.read(a,{type:"buffer"}),c=[],r.SheetNames.forEach((function(e){var t=J.a.utils.sheet_to_json(r.Sheets[e]);c.push.apply(c,Object(M.a)(t))})),l={timetable:this.makeTimeTable(c)},!n){e.next=12;break}return l=Object(ve.a)(Object(ve.a)({},l),{},{scheduleName:this.scheduleName,programmeIds:this.programmeIds,weekCount:r.SheetNames.length}),e.next=9,W.postNewSchedule(l);case 9:o=e.sent,e.next=16;break;case 12:return l=Object(ve.a)(Object(ve.a)({},l),{},{scheduleId:this.scheduleId,weekCount:r.SheetNames.length}),e.next=15,W.repostSchedule(l);case 15:o=e.sent;case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),this.reader.onerror=function(e){console.error("File could not be read! Code "+e.target.error.code)},this.reader.readAsArrayBufferPromise=function(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){return t(e.target.result)},n.onerror=a,n.readAsArrayBuffer(e)}))}},Wa=a(147);function Ua(e){var t=e.onActionSuccess,a=e.callDecoratedUploadService,c=Object(n.useState)(null),l=Object(o.a)(c,2),s=l[0],i=l[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)("My Toughest Cycle Yet"),b=Object(o.a)(f,2),v=b[0],y=b[1],E=Se("programmes").FetchNotificationDiv;function k(){return(k=Object(g.a)(h.a.mark((function e(n){var r,c,l,o,i,u,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.target.files[0],new Ra(d,v).reader.readAsArrayBufferPromise(r),e.next=5,U(r);case 5:return c=e.sent,l=V(c,d,v,!0),e.next=9,a(l);case 9:if(o=e.sent,i=o.ok,u=o.payload,!i){e.next=17;break}return m=w(u,s),t("upload",{newScheduleInfoObject:m}),console.log("Upload Successful!"),e.abrupt("return");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return Object(ve.a)(Object(ve.a)({},e),{},{programmes:t.filter((function(e){return d.includes(e.programmeId)}))})}return Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.fetchProgrammes();case 2:t=e.sent,a=t.ok,n=t.payload,a&&(console.log(n),i(n.programmes));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{item:!0,xs:8,md:12,lg:12,style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},s?r.a.createElement(r.a.Fragment,null,r.a.createElement(gn,{label:"Cycle Name",onClickedScheduleNameChanged:function(e){y(e.target.value)},scheduleName:v}),r.a.createElement(qa,{programmes:s,onProgrammeChecked:function(e){var t=parseInt(e.target.value);e.target.checked?(console.log(t),p([].concat(Object(M.a)(d),[t]))):p((function(e){var a=Object(M.a)(e);return K(t,a),a}))},label:"Publish to Team: "}),v.length>5?r.a.createElement(za,{onFileUploaded:function(e){return k.apply(this,arguments)}}):r.a.createElement(Wa.a,null,"Please Enter The Cycle's Name Before Uploading")):r.a.createElement(E,null)))}var Ma=a(222);function za(e){var t=e.onFileUploaded;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"var(--mg-sm)"}},r.a.createElement(pt.a,{style:{padding:"var(--pd-sm)",minWidth:"max-content",margin:"0 auto",border:"1px solid var(--txt-cl)"},htmlFor:"fileUploader"},r.a.createElement(Ma.a,{style:{color:"var(--bg-cl)",fontSize:"var(--fs-lg)",margin:"0 calc(1 * var(--mg-lg))"}})),r.a.createElement("input",{style:{margin:"0 auto",display:"none"},type:"file",id:"fileUploader",name:"fileUploader",accept:".xls, .xlsx",onChange:t}))}var Ja=a(236),Ha=a(213);function qa(e){var t,a=e.programmes,n=e.onProgrammeChecked,c=e.label;if(a.length>0){var l=a.map((function(e){var t=e.programmeName,a=e.programmeId;return r.a.createElement(ra.a,{key:a,control:r.a.createElement(Ja.a,{onChange:n,name:t,value:a,color:"primary"}),label:t})}));t=r.a.createElement(r.a.Fragment,null,r.a.createElement(aa.a,{component:"legend"},c),r.a.createElement(Ha.a,null,l))}else t=r.a.createElement(at.a,{component:"p"},"No Programme Available");return r.a.createElement(dt.a,{component:"fieldset",style:{marginBottom:"var(--mg-sm)"}},t)}var Va=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"_updateScheduleDetails",value:function(e,t){var a=e.scheduleId,n=e.scheduleName,r=e.weekCount,c=Object(M.a)(t),l=c.findIndex((function(e){return e.scheduleId===a}));return c[l]=Object(ve.a)(Object(ve.a)({},c[l]),{},{scheduleName:n,weekCount:r}),c}},{key:"_addPublishedProgramme",value:function(e,t){var a=e.scheduleId,n=e.programmes,r=Object(M.a)(t),c=r.find((function(e){return e.scheduleId===a}));return c.programmes=[].concat(Object(M.a)(c.programmes),Object(M.a)(n)),r}},{key:"_removeProgrammeFromSchedule",value:function(e,t){var a=e.scheduleId,n=e.targetProgramme,r=Object(M.a)(t),c=r.find((function(e){return e.scheduleId===a})),l=c.programmes.findIndex((function(e){return e.programmeId===n.programmeId}));return c.programmes.splice(l,1),r}},{key:"_deleteOneScheduleById",value:function(e,t){var a=e.scheduleId;return t.filter((function(e){return e.scheduleId!==a}))}},{key:"_addNewSchedule",value:function(e,t){var a=e.newScheduleInfoObject;return[].concat(Object(M.a)(t),[a])}},{key:"factory",value:function(t,a){return function(n,r){switch(n){case"delete":return void a(e._deleteOneScheduleById(r,t));case"upload":return void a(e._addNewSchedule(r,t));case"publish":return void a(e._addPublishedProgramme(r,t));case"unpublish":return void a(e._removeProgrammeFromSchedule(r,t));case"repost":return void a(e._updateScheduleDetails(r,t));default:return}}}}]),e}(),Ka=Object(X.a)((function(e){return{container:{justifyContent:"space-around"},item:{margin:"var(--mg-sm)",padding:0}}}));function Ya(e,t,a){e!==t&&a(t)}var Ga=Object(X.a)((function(e){return{container:{justifyContent:"space-around"},item:{margin:"var(--mg-sm)",padding:0}}}));function Za(e){return(t=ln,a=Ga,function(e){var n=a();return r.a.createElement(ae.a,{item:!0,xs:8,sm:6,md:3,className:n.item},r.a.createElement(t,e))})(e);var t,a}function $a(e){var t=e.schedules,a=(e.unPublishSnackbar,Object(xe.a)(e,["schedules","unPublishSnackbar"])),n=t?t.map((function(e){var t=e.scheduleId,n=e.scheduleName,c=e.weekCount,l=e.programmes;return r.a.createElement(Za,Object.assign({key:t,scheduleId:t,scheduleName:n,weekCount:c,programmes:l},a))})):null;return r.a.createElement(r.a.Fragment,null,n)}var Qa=a(223),Xa=a(224),en=a(225),tn=a(226),an=a(82),nn=a(227),rn=Object(X.a)((function(e){return{root:{background:"var(--txt-cl)",boxShadow:"var(--bsd-md)"},media:{},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:an.a[500]},actionBtnWrapper:{display:"flex",justifyContent:"space-evenly"},scheduleActionBtn:{border:"none",boxShadow:"none",padding:"var(--pd-sm)",width:"max-content","&:hover":{color:"var(--txt-cl)",background:"#333"}}}}));function cn(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a?parseInt(e.currentTarget.getAttribute(t)):e.currentTarget.getAttribute(t)}function ln(e){var t=e.onEditScheduleClicked,a=e.onPublishScheduleClicked,n=e.onDeleteScheduleClicked,c=(e.createdAt,e.weekCount),l=e.scheduleName,o=e.scheduleId,s=e.programmes,i=e.onActionSuccess,u=rn(),m=we("unpublish",W.unpublishSchedule),d=m.callDecoratedUnpublishService,p=m.UnpublishSnackbar;function f(e){return b.apply(this,arguments)}function b(){return(b=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.find((function(e){return e.programmeId===cn(t,"programmeId",!0)})),!window.confirm("Are you sure you want to remove cycle ".concat(l," from team ").concat(a.programmeName))){e.next=7;break}return e.next=4,d(o,a.programmeId);case 4:n=e.sent,n.ok&&i("unpublish",{scheduleId:o,targetProgramme:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qa.a,{className:u.root},r.a.createElement(Xa.a,{title:l||"Unnamed",subheader:c?"".concat(c," week(s)"):"No Exercises Added Yet"}),r.a.createElement(en.a,null,0===s.length?null:r.a.createElement(ie.a,{style:{textAlign:"left"},className:"team-list"},r.a.createElement(at.a,{variant:"subtitle1"},"Currently Used by Team(s):"," "),s.map((function(e){return r.a.createElement(re.a,{button:!0,key:e.programmeId,onClick:f,programmeid:e.programmeId,scheduleid:o,programmename:e.programmeName,className:"team-list-item"},r.a.createElement(le.a,{className:"team-list-item-text",primary:e.programmeName}),r.a.createElement(ce.a,null,r.a.createElement(Vt.a,{className:"unpublish-schedule-icon",fontSize:"small"})))})))),r.a.createElement(tn.a,{disableSpacing:!0,className:u.actionBtnWrapper},r.a.createElement(oe.a,{className:u.scheduleActionBtn,"aria-label":"edit",onClick:t,scheduleid:o},r.a.createElement(Ye.a,null)),r.a.createElement(oe.a,{className:u.scheduleActionBtn,"aria-label":"publish",onClick:a,scheduleid:o},r.a.createElement(nn.a,null)),r.a.createElement(oe.a,{className:u.scheduleActionBtn,"aria-label":"delete",onClick:n,scheduleid:o},r.a.createElement(Xe.a,null)))),r.a.createElement(p,null))}var on=a(228);function sn(e){var t=e.onActionSuccess,a=r.a.useState(!1),n=Object(o.a)(a,2),c=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pa.a,{onClick:function(){l(!0)},variant:"extended","aria-label":"add",style:{position:"fixed",right:"5%",bottom:"7%",zIndex:"5"}},r.a.createElement(on.a,null),r.a.createElement("span",{style:{textAlign:"center"},className:"add-schedule-btn-wrapper"},"New Cycle")),r.a.createElement(dn,{open:c,handleClose:function(){l(!1)},onActionSuccess:t}))}var un=a(229),mn=a(230);function dn(e){var t=e.handleClose,a=e.open,n=e.onActionSuccess,c=we("upload",W.postNewSchedule),l=c.callDecoratedUploadService,o=c.UploadSnackbar;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(un.a,{style:{backgroundColor:"var(--txt-cl)"}},r.a.createElement(at.a,{style:{fontWeight:"var(--fw-md)"}},"New Cycle")),r.a.createElement(Mt.a,{className:"add-new-schedule-dialog"},r.a.createElement(Ua,{onActionSuccess:n,callDecoratedUploadService:l,uploadSnackbar:o})),r.a.createElement(mn.a,{style:{justifyContent:"center",padding:"1rem",backgroundColor:"var(--txt-cl)"}},r.a.createElement(nt.a,{variant:"contained",onClick:t,style:{width:"max-content",fontSize:"0.75rem",background:"inherit"}},"Close"))),r.a.createElement(o,null))}function pn(e){var t=e.onDialogCloseClicked,a=e.open,n=e.clickedSchedule,c=e.onClickedScheduleNameChanged,l=(e.currentClickedScheduleName,e.onActionSuccess),o=e.canUpdate,s=e.fileUploaded,i=e.onFileUploaded,u=e.buffer,m=Object(xe.a)(e,["onDialogCloseClicked","open","clickedSchedule","onClickedScheduleNameChanged","currentClickedScheduleName","onActionSuccess","canUpdate","fileUploaded","onFileUploaded","buffer"]),d=we("repost",W.repostSchedule),p=d.callDecoratedRepostService,f=d.RepostSnackbar;function b(){return(b=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=V(u,[],n.scheduleName,!1,n.scheduleId),e.next=3,p(t);case 3:a=e.sent,a.ok&&(delete t.timetable,l("repost",t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(un.a,{style:{backgroundColor:"var(--txt-cl)"}},r.a.createElement(at.a,{style:{fontWeight:"var(--fw-md)"}},"Reupload Cycle")),r.a.createElement(Mt.a,{className:"add-new-schedule-dialog"},n&&r.a.createElement(fn,Object.assign({},m,{onClickedScheduleNameChanged:c,onFileUploaded:i,scheduleName:n.scheduleName,fileUploaded:s}))),r.a.createElement(mn.a,{style:{display:"flex",justifyContent:"space-evenly",padding:"0",backgroundColor:"var(--txt-cl)"}},r.a.createElement("button",{disabled:!o,onClick:function(){return b.apply(this,arguments)},style:{width:"max-content"}},"Save"),r.a.createElement("button",{onClick:t,style:{width:"max-content"}},"Close"))),r.a.createElement(f,null))}function fn(e){var t=e.onClickedScheduleNameChanged,a=e.onFileUploaded,c=e.scheduleName,l=e.isFileUploaded,s=Object(n.useState)({action:null,isActionSuccess:l}),i=Object(o.a)(s,2),u=i[0],m=i[1];return r.a.createElement(ae.a,{container:!0,xs:8,md:12,lg:12,style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},r.a.createElement(gn,{label:"Cycle Name",onClickedScheduleNameChanged:t,scheduleName:c}),r.a.createElement(ke,{actionStatus:u,onCloseActionStatusDiv:function(){m({action:null,isActionSuccess:null})}}),c.length>0?r.a.createElement(za,{onFileUploaded:a}):"Schedule Name Must Not Be Empty")}function bn(e){var t=e.scheduleId,a=e.onDialogCloseClicked,c=e.open,l=e.onActionSuccess,s=Object(n.useState)([]),i=Object(o.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),f=p[0],b=p[1],v=Se("available programmes"),y=v.setIsFetchSuccess,E=v.FetchNotificationDiv,k=we("publish",W.publishSchedule),w=k.publishActionStatus,x=k.callDecoratedPublishService,S=k.PublishSnackbar;function O(){return(O=Object(g.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t,u);case 2:a=e.sent,a.ok&&l("publish",{scheduleId:t,programmes:j(u,f)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return t.filter((function(t){return e.includes(t.programmeId)}))}return Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getAvailableProgrammesToPublish(t);case 2:if(a=e.sent,n=a.ok,r=a.payload,!n){e.next=9;break}return y(!0),b(r),e.abrupt("return");case 9:y(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c&&function(t){e.apply(this,arguments)}(t)}),[t,c,y]),r.a.createElement(ae.a,{item:!0,xs:10,sm:8,md:6},r.a.createElement(Ut.a,{open:c,onClose:a,"aria-labelledby":"form-dialog-title",style:{overflow:"hidden"}},r.a.createElement(un.a,{style:{backgroundColor:"var(--txt-cl)",fontWeight:"var(--fw-md)"}},"Publish Cycle"),r.a.createElement("div",{className:"publish-schedule-dialog"},f?r.a.createElement(qa,{programmes:f,onProgrammeChecked:function(e){var t=parseInt(e.target.value);e.target.checked?m([].concat(Object(M.a)(u),[t])):m((function(e){var a=Object(M.a)(e);return K(t,a),a}))},label:"Publish to Team"}):r.a.createElement(E,null),w.action?r.a.createElement(S,null):null),r.a.createElement(mn.a,{style:{justifyContent:"space-around",padding:"0",backgroundColor:"var(--txt-cl)",overflow:"hidden"}},r.a.createElement("button",{disabled:!(u.length>0||!f),onClick:function(){return O.apply(this,arguments)},style:{width:"max-content"}},"Publish"),r.a.createElement("button",{onClick:a,style:{width:"max-content"}},"Close"))))}var hn=Object(X.a)((function(e){return{scheduleName:{marginBottom:"var(--mg-sm)"},input:{fontFamily:"var(--ff)",color:"#001e18",marginBottom:"var(--mg-sm)"},formLabelRoot:{fontFamily:"var(--ff)",color:"var(--txt-cl)"},formLabelFocused:{fontFamily:"var(--ff)",color:"var(--txt-cl)","'& label.Mui-focused'":{fontFamily:"var(--ff)",color:"var(--txt-cl)"}}}}));function gn(e){var t=e.onClickedScheduleNameChanged,a=e.scheduleName,n=e.label,c=hn();return r.a.createElement(et.a,{label:n,className:c.scheduleName,onChange:t,value:a,InputProps:{className:c.input},InputLabelProps:{className:c.formLabelRoot},error:a.length<=5,helperText:a.length<=5&&"Must be at least 5 characters long"})}var vn={instructor:[{to:"/instructor/schedules",label:"Schedules",component:function(){Y.setCurrentPage("/instructor/schedules");var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),s=Object(o.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(null),v=Object(o.a)(b,2),y=v[0],E=v[1],k=Object(n.useState)(!1),w=Object(o.a)(k,2),x=w[0],S=w[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),C=j[0],N=j[1],P=Object(n.useState)(!1),I=Object(o.a)(P,2),A=I[0],L=I[1],B=Object(n.useState)(null),F=Object(o.a)(B,2),T=F[0],D=F[1],_=Object(n.useState)(!1),R=Object(o.a)(_,2),M=R[0],z=R[1],J=Se("schedules"),H=J.setIsFetchSuccess,q=J.FetchNotificationDiv,V=we("delete",W.deleteSchedule),K=V.callDecoratedDeleteService,G=V.DeleteSnackbar,Z=Va.factory(a,c);function $(){return($=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,U(a);case 3:n=e.sent,D(n),z(!0),L(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return parseInt(e.currentTarget.getAttribute("scheduleId"))}function X(e){Ya(x,!1,S),Ya(C,!1,N),Ya(M,!1,z),Ya(A,!1,L),Ya(T,null,D),Ya(p,null,f),Ya(y,null,E)}function ee(){return(ee=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Q(t),u(Q(t)),!window.confirm("Are you sure you want to delete schedule id ".concat(a))){e.next=8;break}return e.next=5,K(a);case 5:n=e.sent,n.ok&&Z("delete",{scheduleId:a});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.fetchScheduleInfo();case 2:t=e.sent,a=t.ok,n=t.payload,a&&(H(!0),c(n)),H(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[H]);var te=Ka();return r.a.createElement(r.a.Fragment,null,r.a.createElement(sn,{onActionSuccess:Z}),r.a.createElement(ae.a,{container:!0,className:te.container},a?r.a.createElement(r.a.Fragment,null,r.a.createElement($a,{schedules:a,onEditScheduleClicked:function(e){console.log(e.currentTarget.getAttribute("scheduleId")),S(!0),u(Q(e));var t=a.find((function(t){return t.scheduleId===Q(e)}));f(t),E(t.scheduleName)},onPublishScheduleClicked:function(e){console.log("Publish schedule id ".concat(e.currentTarget.getAttribute("scheduleId"))),N(!0),u(Q(e))},onDeleteScheduleClicked:function(e){return ee.apply(this,arguments)},onActionSuccess:Z})):r.a.createElement(q,{style:{margin:"0 auto"}})),r.a.createElement(pn,{open:x,onDialogCloseClicked:X,clickedSchedule:p,onActionSuccess:Z,onClickedScheduleNameChanged:function(e){var t=e.target.value;f(Object(ve.a)(Object(ve.a)({},p),{},{scheduleName:t})),L(function(e,t,a){var n=e.length>0;return!a&&n&&e!==t||a&&n}(t,y,M))},canUpdate:A,buffer:T,isFileUploaded:M,onFileUploaded:function(e){return $.apply(this,arguments)}}),r.a.createElement(bn,{open:C,onDialogCloseClicked:X,scheduleId:i,onActionSuccess:Z}),r.a.createElement(G,null))},isProtected:!0,display:!0,icon:be.a},{to:"/instructor/overview",label:"Overview",component:function(){Y.setCurrentPage("/instructor/overview");var e=Object(Oe.b)(),t=Object(Oe.c)(Ne);return Object(n.useEffect)((function(){function a(){return(a=Object(g.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.fetchLearners();case 2:if(a=t.sent,n=a.ok,r=a.payload,!n){t.next=10;break}return e(Pe(r)),t.abrupt("return");case 10:console.log("Failed to fetch learners");case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t||function(){a.apply(this,arguments)}()}),[t,e]),console.log(t&&t.length),r.a.createElement(ae.a,null,r.a.createElement("h2",null,"Learners"),t&&r.a.createElement(Qt,{payload:t.map((function(e){var t=Object(ve.a)({},e);return delete t.username,delete t.email,t.firstName="".concat(t.firstName," ").concat(t.lastName),delete t.lastName,t}))}))},isProtected:!0,display:!0,icon:Ta.a},{to:"/instructor/learners",label:"Learners Panel",component:function(){Y.setCurrentPage("/instructor/learners");var e=Object(Oe.b)(),t=Object(n.useState)(Object(Oe.c)(Ne)),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(c),i=Object(o.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),f=p[0],b=p[1],v=Object(n.useState)(null),y=Object(o.a)(v,2),k=y[0],w=y[1],x=Object(n.useState)(!1),S=Object(o.a)(x,2),O=S[0],j=S[1],C=Object(n.useState)({action:null,isActionSuccess:null}),N=Object(o.a)(C,2),P=N[0],I=N[1],A=Object(Oe.c)((function(e){return k?function(e,t){return e.practiceBests.instructorApp["".concat(t)]}(e,k.learnerId):null})),L=Object(n.useRef)([]),B=Se("learner").FetchNotificationDiv,F=Object(n.useState)("snatch"),T=Object(o.a)(F,2),D=T[0],_=T[1],W=Object(n.useCallback)((function(e){_(e.target.value)}),[]);function U(e){I({action:null,isActionSuccess:null})}function z(e,t){var a=t.trim().toLowerCase();return 0===a.length?e:e.filter((function(e){var t=e.firstName,n=e.lastName;return t.toLowerCase().trim().startsWith(a)||n.toLowerCase().trim().startsWith(a)}))}var J=Object(n.useCallback)((function(e){return function(e){var t,a=(t=e.currentTarget.getAttribute("learnerId"),c.find((function(e){return e.learnerId===parseInt(t)})));w(a)}(e)}),[w,c]),H=Object(n.useCallback)((function(e){return function(e){var t=e.currentTarget.getAttribute("name"),a=e.currentTarget.value;w((function(e){var n=Object(ve.a)({},e);return n[t]=a,n}))}(e)}),[]);function q(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UPDATE",n=Object(M.a)(c);switch(a){default:n[t]=k,l(n),e(Pe(n)),m(z(n,"".concat(k.firstName))),b("".concat(k.firstName));break;case"DELETE":n.splice(t,1),m(n),l(n),e(Pe(n)),w(null),b("")}}function V(e,t){return e.findIndex((function(e){return e.learnerId===t.learnerId}))}function K(){return(K=Object(g.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=V(c,k),window.confirm("Are you sure you want to update ".concat(k.firstName,"'s record?"))){e.next=8;break}return w(null),m(c),b(""),e.abrupt("return");case 8:if(!E(c[a],k)){e.next=11;break}return console.log("No need to rerender or update!"),e.abrupt("return");case 11:return I({action:"update",isActionSuccess:null}),e.next=14,R.updateLearner(k);case 14:n=e.sent,(r=n.ok)?(q(a),I({action:"update",isActionSuccess:!0})):(console.log("Updating failed!",r),w(c[a]),b(k.firstName),I({action:"update",isActionSuccess:!1}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=Object(n.useCallback)((function(){j(!O)}),[O]);function Z(){return(Z=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete ".concat(k.firstName,"'s record?"))){e.next=3;break}return j(!1),e.abrupt("return");case 3:return I({action:"delete",isActionSuccess:null}),e.next=6,R.deleteLearner(k.learnerId);case 6:a=e.sent,a.ok?(I({action:"delete",isActionSuccess:!0}),q(V(c,k),"DELETE"),console.log("Deleting ... Success!")):(I({action:"delete",isActionSuccess:!1}),console.log("Deleting failed!"));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function t(){return(t=Object(g.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.fetchLearners();case 2:a=t.sent,n=a.ok,r=a.payload,n&&(e(Pe(r)),l(r),m(r));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}c||function(){t.apply(this,arguments)}()}),[c,e]),Object(n.useEffect)((function(){if(null!==P.isActionSuccess){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return setTimeout((function(){return U()}),1e3*e)}();return function(){clearTimeout(e)}}}),[P.isActionSuccess]),Object(n.useEffect)((function(){k&&!L.current.includes(k.learnerId)&&(L.current.push(k.learnerId),e(_e(k.learnerId)))}),[k,e]),r.a.createElement(r.a.Fragment,null,!c&&r.a.createElement(B,null),r.a.createElement(ke,{actionStatus:P,onCloseActionStatusDiv:U}),r.a.createElement(ae.a,{container:!0,className:"learnerPanelWrapper",style:{display:"flex"},wrap:"nowrap"},c&&u&&r.a.createElement(lt,{searchPhrase:f,onSearchPhraseChanged:function(e){var t=e.target.value;b(e.target.value),m(z(c,t))},learners:c,displayedLearners:u,onLearnerItemClicked:J}),k&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ct,{selectedLearner:k,onPersonalBestsInputChange:H,onUpdatePersonalBests:function(e){return K.apply(this,arguments)},canEditAndUpdate:O,enableEditAndUpdate:G,onDeleteLearner:function(e){return Z.apply(this,arguments)},title:"Personal Bests"}),A&&r.a.createElement(Xt,{title:"Historical Bests",selectMenu:function(){return r.a.createElement(ta,{onExerciseNameSelected:W,selectedExerciseName:D,availableExercises:A.reduce((function(e,t){return[].concat(Object(M.a)(e),[t.exerciseName])}),[])})},pbsList:function(){return r.a.createElement(Ze,{records:A.filter((function(e){return e.exerciseName===D})),onEditClicked:function(){return console.log("Add Comment?")},icon:function(){return r.a.createElement(Ke.a,{style:{color:"var(--primary-cl)"}})}})}}))))},isProtected:!0,display:!0,icon:Da.a},{to:"/instructor/account",label:"Account",component:function(e){return e.onLogOutClicked,Y.setCurrentPage("/instructor/account"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Under Construction"))},isProtected:!0,display:!0,icon:_a.a},{to:"/logout",label:"Log Out",component:null,isProtected:!0,display:!0,icon:ge.a}],learnerApp:[{to:"/learner/login",label:"Learner Space",isProtected:!1,display:!0},{to:"http://lifting-schedule.herokuapp.com",label:"Version 1.0",isProtected:!1,display:!0}]};function yn(e){var t=e.onAppChange,a=Object(n.useState)(f.isAuthenticated()),c=Object(o.a)(a,2),l=c[0],d=c[1],p=Object(n.useState)(f.isAuthenticated()?vn.instructor:vn.learnerApp),b=Object(o.a)(p,2),h=b[0],g=b[1];return r.a.createElement(s.a,null,r.a.createElement(u,{links:h,pageTitle:"Instructor Space",onLogOut:function(e){console.log("log me out!"),f.clearToken(),Y.setCurrentPage("/instructor/login"),g(vn.learnerApp),d(!1)},onAppChange:t}),r.a.createElement("div",{className:"App main"},l?r.a.createElement(i.a,{to:"/instructor/login"!==Y.getCurrentPage()?Y.getCurrentPage():"/instructor/schedules"}):r.a.createElement(ua,{onInstructorLogIn:function(){g(vn.instructor),d(!0)}}),r.a.createElement(te,{links:h})),r.a.createElement(m,null))}function En(e){var t=e.currentPage,a=e.onAppChange;return t.includes("/instructor")?r.a.createElement(yn,{onAppChange:a}):r.a.createElement(Fa,{onAppChange:a})}var kn=a(104),wn=a(234),xn=Object(kn.a)({typography:{fontFamily:["Montserrat","sans-serif"]},palette:{primary:{main:"#028090"},secondary:{main:"#f0f3bd"}}});function Sn(){var e=Object(n.useState)(Y.getCurrentPage()?Y.getCurrentPage():"/learner/login"),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(wn.a,{theme:xn},r.a.createElement(En,{currentPage:a,onAppChange:function(e){var t=e.target.getAttribute("to");console.log(t),Y.currentApp=t,Y.setCurrentPage(t),c(t)}}))}var On=Object(je.a)({reducer:{learnerSchedules:ut,learnerPbs:kt,allLearners:Ie,dailyExercises:Ot,practiceBests:Ve}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Oe.a,{store:On},r.a.createElement(Sn,null))),document.getElementById("root"))},98:function(e,t){}},[[116,1,2]]]);
//# sourceMappingURL=main.ddbe8866.chunk.js.map